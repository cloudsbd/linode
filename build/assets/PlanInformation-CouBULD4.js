import{s as c,T as m,c1 as P,eM as T,r as h,j as i,ad as p,ba as x,aW as v}from"./index-Eksrs3uK.js";import{T as S}from"./TextTooltip-SPU6hUyt.js";import{L as C}from"./ListItem-joIHQeyv.js";import{T as j}from"./TableRow-phXfWUGW.js";const N=e=>{const{regionsData:a,selectedRegionID:t}=e,s=a==null?void 0:a.find(r=>r.id===t),n=!!t,o=r=>!!(s!=null&&s.capabilities.includes(b(r)));return{hasSelectedRegion:n,isPlanPanelDisabled:r=>n&&!o(r),isSelectedRegionEligibleForPlan:o}},b=e=>{switch(e){case"gpu":return"GPU Linodes";case"premium":return"Premium Plans";default:return"Linodes"}},w=e=>e==="gpu"?"GPU":e.charAt(0).toUpperCase()+e.slice(1),k=c(m,{label:"StyledTypography"})(({theme:e})=>({"& a":{color:e.textColors.linkActiveLight},"& a:hover":{color:"#3683dc"},"& p":{fontFamily:'"LatoWebBold", sans-serif'},fontSize:"0.9em"})),O=c(j,{label:"StyledDisabledTableRow",shouldForwardProp:P(["disabled"])})(({theme:e,...a})=>({...a.disabled&&{backgroundColor:e.bg.tableHeader,cursor:"not-allowed",opacity:.4},"&:focus-within":{backgroundColor:e.bg.lightBlue1}})),g=c(m,{label:"StyledNoticeTypography"})(({theme:e})=>({fontFamily:e.font.bold})),y=c(S,{label:"StyledTextTooltip"})(()=>({})),R=c(T,{label:"StyledFormattedRegionList"})(({theme:e})=>({"& li":{padding:"4px 0"},padding:`${e.spacing(.5)} ${e.spacing()}`}));y.defaultProps={minWidth:225,placement:"bottom-start",sxTypography:{fontFamily:e=>e.font.bold},variant:"body2"};g.defaultProps={variant:"body2"};const u=h.memo(e=>{const{hasSelectedRegion:a,isSelectedRegionEligibleForPlan:t,planType:s,regionsData:n}=e,o=b(s),l=h.useCallback(()=>(n==null?void 0:n.filter(r=>r.capabilities.includes(o)))||[],[o,n]);return i.jsx(I,{hasSelectedRegion:a,isSelectedRegionEligibleForPlan:t,planType:s,regionList:l()})}),I=e=>{const{hasSelectedRegion:a,isSelectedRegionEligibleForPlan:t,planType:s,regionList:n}=e,o=()=>i.jsx(R,{children:n==null?void 0:n.map(r=>i.jsx(C,{disablePadding:!0,children:`${r.label} (${r.id})`},r.id))}),l=w(s);return a?a&&!t?i.jsx(p,{bypassValidation:!0,dataTestId:`${s}-notice-error`,variant:"error",children:i.jsxs(g,{children:[l," Plans are not currently available in this region. ",i.jsx(y,{displayText:"See global availability",tooltipText:i.jsx(o,{})}),"."]})}):null:i.jsx(p,{dataTestId:`${s}-notice-warning`,variant:"warning",children:i.jsxs(g,{children:[l," Plans are currently available in ",i.jsx(y,{displayText:"select regions",tooltipText:i.jsx(o,{})}),"."]})})},L=(e,a=",")=>{if(!Array.isArray(e)||e.length===0)return"";if(e.length===1)return e[0];if(e.length===2)return`${e[0]} and ${e[1]}`;{const t=e.slice(0,-1),s=e[e.length-1];return`${t.join(`${a} `)}${a} and ${s}`}},D=["prodedicated","dedicated","shared","highmem","gpu","metal","premium"],M=e=>{const a=D.reduce((t,s)=>(t[s]=[],t),{});for(const t of e)switch(t.class){case"nanode":case"standard":a.shared.push(t);break;default:a.hasOwnProperty(t.class)&&a[t.class].push(t);break}return Object.keys(a).reduce((t,s)=>(a[s].length>0&&(t[s]=a[s]),t),{})},G=(e,a,t)=>{var r;const s=M(e),n=Object.keys(s).map(d=>d==="shared"?"standard":d),o=((r=e.find(d=>d.id===a||d.heading===t))==null?void 0:r.class)??"dedicated",l=o==="nanode"?"standard":o;return n.indexOf(l)},U=(e,a)=>{const t=a==null?void 0:a.filter(s=>s.capabilities.includes(e)).map(s=>s.label);return L(t??[])},B={dedicated:{dataId:"data-qa-dedicated",key:"dedicated",title:"Dedicated CPU",typography:"Dedicated CPU instances are good for full-duty workloads where consistent performance is important."},gpu:{dataId:"data-qa-gpu",key:"gpu",title:"GPU",typography:"Linodes with dedicated GPUs accelerate highly specialized applications such as machine learning, AI, and video transcoding."},highmem:{dataId:"data-qa-highmem",key:"highmem",title:"High Memory",typography:"High Memory instances favor RAM over other resources, and can be good for memory hungry use cases like caching and in-memory databases. All High Memory plans use dedicated CPU cores."},metal:{dataId:"data-qa-metal",key:"metal",title:"Bare Metal",typography:"Bare Metal Linodes give you full, dedicated access to a single physical machine. Some services, including backups, VLANs, and disk management, are not available with these plans."},premium:{dataId:"data-qa-premium",key:"premium",title:"Premium CPU",typography:"Premium CPU instances guarantee a minimum processor generation of AMD EPYC™ Milan or newer to ensure consistent high performance for more demanding workloads."},prodedicated:{dataId:"data-qa-prodedi",key:"prodedicated",title:"Pro Dedicated CPU",typography:"Pro Dedicated CPU instances are for very demanding workloads. They only have AMD 2nd generation processors or newer."},shared:{dataId:"data-qa-standard",key:"shared",title:"Shared CPU",typography:" Shared CPU instances are good for medium-duty workloads and are a good mix of performance, resources, and price."}},F=e=>{const{dataTestId:a,hasDisabledClass:t}=e,{data:s}=x(),n=t?`Bare Metal instances are not available in the selected
  region. Currently these plans are only available in ${U("Bare Metal",s??[])}.`:i.jsx(k,{children:"Bare Metal Linodes have limited availability and may not be available at the time of your request. Some additional verification may be required to access these services."});return i.jsx(p,{dataTestId:a,variant:"warning",children:n})},H=e=>{var d;const a=v(),{disabledClasses:t,hasSelectedRegion:s,isSelectedRegionEligibleForPlan:n,planType:o,regionsData:l}=e,r=f=>!!(t!=null&&t.includes(f));return i.jsxs(i.Fragment,{children:[o==="gpu"?i.jsx(u,{hasSelectedRegion:s,isSelectedRegionEligibleForPlan:n,planType:o,regionsData:l||[]}):null,o==="metal"?i.jsx(F,{dataTestId:"metal-notice",hasDisabledClass:r("metal")}):null,o==="premium"?i.jsx(u,{hasSelectedRegion:s,isSelectedRegionEligibleForPlan:n,planType:o,regionsData:l||[]}):null,i.jsx(m,{"data-qa-prodedi":!0,sx:{marginBottom:a.spacing(3),marginTop:a.spacing(1)},children:(d=B[o])==null?void 0:d.typography})]})};export{H as P,O as S,B as a,G as d,M as g,N as p};
