import{r as s,m as V,j as t,aa as Q,T,hW as Z,hX as ee,V as te,hY as oe,af as se,ag as K,a1 as D,ad as L,s as v,b3 as R,ba as $,dB as ae,ao as ne,b4 as H,hZ as re,dw as ce,dx as ie,dg as le,h_ as de,dD as ue,ak as ge,bB as be,_ as X,u as Y,b as pe,f5 as me,q as fe,Q as he,K as xe,aZ as ye,J as je,cH as Se}from"./index-Eksrs3uK.js";import{L as ke}from"./LandingHeader-JXAVBhqg.js";import{u as Oe}from"./useWindowDimensions-Dnr94FWA.js";import{S as U}from"./SafeTabPanel-S0Pp8CVT.js";import{T as Ce}from"./TabLinkList-BrXtJznm.js";import{a as Te,T as Be}from"./TabList-4PWL4GSj.js";import{u as Ee}from"./useOpenClose-GWPIoKTB.js";import{u as ve}from"./formik.esm-Kap5lsIh.js";import{D as _e}from"./Drawer-A9yKjC3Z.js";import{R as we,a as Ae}from"./RegionSelect-_Z8IGlox.js";import{O as P}from"./constants-KokzTiEs.js";import{T as W}from"./TextTooltip-SPU6hUyt.js";import{o as w}from"./dynamicPricing-n5eCZqTg.js";const De=e=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",enableBackground:"new 0 0 128.3 127.1",viewBox:"0 0 128.3 127.1",...e},s.createElement("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:64.1672,x2:64.1672,y1:124.6929,y2:31.6854},s.createElement("stop",{offset:0,stopColor:"#c5c5cc"}),s.createElement("stop",{offset:1,stopColor:"#fff",stopOpacity:0})),s.createElement("linearGradient",{id:"b",gradientUnits:"userSpaceOnUse",x1:22.727,x2:109.126,y1:35.937,y2:122.336},s.createElement("stop",{offset:0,stopColor:"#fff"}),s.createElement("stop",{offset:1,stopColor:"#dedede"})),s.createElement("linearGradient",{id:"c",gradientUnits:"userSpaceOnUse",x1:30.7232,x2:103.2375,y1:94.8309,y2:22.3166},s.createElement("stop",{offset:0,stopColor:"#2e6b4c"}),s.createElement("stop",{offset:1,stopColor:"#1bb35e"})),s.createElement("g",{clipRule:"evenodd",fillRule:"evenodd"},s.createElement("path",{d:"m29.4 31.7c-4.4 0-8 3.6-8 7.9 0 4.4 3.6 7.9 8 7.9h1.6l2.4 21.7c-3.3 2.4-5.6 6.3-5.6 11.1v.3c-14.4.2-21.8 11.1-21.8 22v.2c0 10.6 6.9 21.1 20.9 21.9h79.3c.1-.1 16.2-2.3 16.2-17.3 0-.7 0-1.4-.1-2.2-.8-8.5-7.7-15.2-16.3-16 2.5-10 0-18.6-5.1-24.8l1.9-16.8h1.6c4.4 0 8-3.6 8-7.9 0-4.4-3.6-8.1-8.1-8.1h-74.9z",fill:"url(#a)"}),s.createElement("path",{d:"m30.6 31.3c-4.3 0-7.7 3.4-7.7 7.7 0 4.2 3.5 7.7 7.7 7.7h1.5l2.3 20.9c-3.2 2.4-5.4 6.1-5.4 10.7v.3c-13.9.1-21 10.7-21 21.2v.2c0 10.2 6.7 20.4 20.1 21.1h76.6c.1-.1 15.6-2.2 15.6-16.7 0-.7 0-1.4-.1-2.1-.8-8.2-7.4-14.7-15.7-15.4 2.4-9.7 0-17.9-5-23.9l1.8-16.2h1.5c4.3 0 7.7-3.4 7.7-7.7s-3.5-7.8-7.8-7.8z",fill:"url(#b)"}),s.createElement("path",{d:"m103.1 33.8h-72.3c-2.8 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9h4l6.6 60.3c.1 2.2 2 4 4.3 4h42.4c2.2 0 4.1-1.7 4.4-3.9l6.6-60.3h4c2.8 0 4.9-2.2 4.9-4.9.1-2.6-2.1-5-4.9-5zm-22.1 68.3c-2.8 0-4.9-2.2-4.9-4.9s2.2-5 4.9-5c2.8 0 5 2.2 5 5-.1 2.7-2.3 4.9-5 4.9zm-30.6-76.2c-.4 0-.7-.2-.9-.5l-7-13.9c-.2-.5-.1-1.1.4-1.3s1.1-.1 1.3.4l7 13.9c.2.5.1 1.1-.4 1.3-.1.1-.2.1-.4.1zm33.1 0c-.2 0-.3 0-.5-.1-.5-.2-.7-.9-.4-1.3l7-13.9c.2-.5.9-.7 1.3-.4.5.2.7.9.4 1.3l-7 13.9c0 .3-.4.5-.8.5zm-16.5-3.9c-.6 0-1-.4-1-1v-14c0-.6.4-1 1-1s1 .4 1 1v14c0 .5-.5 1-1 1z",fill:"url(#c)"}))),Le=V()(e=>({alignLeft:{alignItems:"flex-start"},button:{"&:hover, &:focus":{backgroundColor:"#3f8a4e",color:"white"},backgroundColor:"#4FAD62",color:"white",marginLeft:e.spacing(2),marginRight:e.spacing(2),textAlign:"center"},buttonSecondary:{"&:hover, &:focus":{backgroundColor:"inherit",borderColor:"#72BD81",color:"#72BD81"},backgroundColor:"inherit",border:"1px solid transparent",borderColor:"#4FAD62",color:"#4FAD62",transition:e.transitions.create(["color","border-color"])},buttonSection:{display:"flex",flexDirection:"row",justifyContent:"center",margin:e.spacing(2)},capMaxWidth:{maxWidth:400},centerText:{textAlign:"center"},copy:{alignItems:"center",display:"flex",flexDirection:"column",width:"100%"},footnote:{marginTop:e.spacing(1)},fullWidth:{"& p:last-child":{marginTop:e.spacing(1)},"& svg":{marginBottom:`calc(${e.spacing(1)} - 2)`,marginRight:e.spacing(2)},alignContent:"center",flexDirection:"row",justifyContent:"flex-start"},logo:{marginBottom:e.spacing(2)},root:{alignItems:"center",backgroundColor:e.bg.main,display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:4}})),Pe=e=>{const{classes:o,cx:a}=Le(),{fullWidth:n,...r}=e,i=Re({...r}),h=Ie[i.logo],{width:b}=Oe(),x=b<960||n?80:110;return t.jsxs(Q,{className:a({[o.fullWidth]:e.fullWidth,[o.root]:!0,[e.className??""]:!!e.className}),children:[h&&t.jsx(h,{className:o.logo,height:x,width:x}),t.jsxs("div",{className:a({[o.alignLeft]:n,[o.copy]:!0}),children:[t.jsx(T,{className:a({[o.capMaxWidth]:!n,[o.centerText]:!n}),variant:"subtitle2",children:i.body}),!e.fullWidth&&i.buttons.length>=1&&t.jsx("div",{className:o.buttonSection,children:i.buttons.slice(0,2).map(l=>t.jsx(Z,{className:a({[o.button]:!0,[o.buttonSecondary]:l.type==="secondary"}),...Ne(l.href),children:l.text},l.text))}),i.footnote&&t.jsx(T,{className:a({[o.capMaxWidth]:!n,[o.centerText]:!n,[o.footnote]:!0}),variant:"body1",children:i.footnote})]})]})},Re=e=>({alt:C(e.alt),body:C(e.body),buttons:e.buttons??[],displayOnDashboard:e.displayOnDashboard??!1,features:e.features??["None"],footnote:C(e.footnote),logo:C(e.logo),name:C(e.name)}),C=(e,o)=>typeof e=="string"?e:o||"",Ie={"heavenly-bucket.svg":De},Ne=e=>{let o;return ee.test(e)?o={component:te,to:e}:oe.test(e)&&(o={href:e,rel:"noopener noreferrer",target:"_blank"}),o},Fe="250 GB",Ge="1 TB",Me=s.memo(e=>{const{handleSubmit:o,onClose:a,open:n,regionId:r}=e;return t.jsxs(se,{actions:()=>t.jsx(K,{primaryButtonProps:{"data-testid":"enable-obj",label:"Enable Object Storage",onClick:()=>{a(),o()}},secondaryButtonProps:{"data-testid":"cancel",label:"Cancel",onClick:a}}),onClose:a,open:n,title:"Enable Object Storage",children:[t.jsxs(A,{children:["To create your first ",r?"bucket":"access key",", you need to enable Object Storage."," "]}),t.jsxs(A,{children:["Object Storage costs a flat rate of"," ",t.jsxs("strong",{children:["$",P.monthly,"/month"]}),", and includes"," ",Fe," of storage. When you enable Object Storage,"," ",Ge," of outbound data transfer will be added to your global network transfer pool."]}),t.jsxs(A,{children:[t.jsx(D,{to:"https://www.linode.com/pricing/#object-storage",children:"Learn more"})," ","about pricing and specifications."]}),t.jsxs(L,{spacingBottom:0,variant:"warning",children:["To discontinue billing, you’ll need to cancel Object Storage in your  ",t.jsx(D,{to:"/account/settings",children:"Account Settings"}),"."]})]})}),A=v(T,{label:"StyledTypography"})(({theme:e})=>({fontSize:"1rem",marginBottom:e.spacing(2)})),Ue=e=>{const{disabled:o,error:a,onBlur:n,onChange:r,required:i,selectedCluster:h}=e,{data:b,error:x}=R(),{data:l}=$(),k=b==null?void 0:b.reduce((p,m)=>{const f=l==null?void 0:l.find(j=>j.id===m.region);return f&&p.push({...f,id:m.id}),p},[]),y=x?"Error loading regions":a||void 0;return t.jsx(we,{currentCapability:"Object Storage","data-qa-select-cluster":!0,disabled:o,errorText:y,handleSelection:p=>r(p),isClearable:!1,label:"Region",onBlur:n,placeholder:"Select a Region",regions:k??[],required:i,selectedId:h})},We="For this region, monthly network transfer is calculated and tracked independently and is not part of your global network transfer pool.",ze="Your global network transfer pool adds up all the included transfer associated with active Linode services on your account and is prorated based on service creation.",qe=e=>{const{regionId:o}=e,a=w.hasOwnProperty(o);return t.jsxs(t.Fragment,{children:[t.jsxs(z,{children:["For this region, additional storage costs"," ",t.jsxs("strong",{children:["$",a?w[o].storage_overage:P.storage_overage," ","per GB"]}),"."]}),t.jsxs(z,{children:["Outbound transfer will cost"," ",t.jsxs("strong",{children:["$",a?w[o].transfer_overage:P.transfer_overage," ","per GB"]})," ","if it exceeds"," ",a?t.jsxs(t.Fragment,{children:["the"," ",t.jsx(W,{displayText:"network transfer pool for this region",tooltipText:We})]}):t.jsxs(t.Fragment,{children:["your"," ",t.jsx(W,{displayText:"global network transfer pool",tooltipText:ze})]}),"."]})]})},z=v(T,{label:"StyledTypography"})(({theme:e})=>({margin:`${e.spacing(2)} 0`})),Ke=e=>{var c,N,F,G;const{data:o}=ne(),{isOpen:a,onClose:n}=e,r=o==null?void 0:o.restricted,{data:i}=$(),{data:h}=R(),{data:b}=H(h),{error:x,isLoading:l,mutateAsync:k,reset:y}=re(),{data:p}=ce(),{mutateAsync:m}=ie(),{data:f}=le(),[j,B]=s.useState(!1),[O,I]=s.useState(!1),d=ve({initialValues:{cluster:"",label:""},async onSubmit(g){await k(g),de(g.cluster),O&&m({eu_model:!0}).catch(ue),n()},validate(g){return y(),(b==null?void 0:b.buckets.find(M=>M.label===g.label&&M.cluster===g.cluster))?{label:"A bucket with this label already exists in your selected region"}:{}}}),_=g=>{g.preventDefault(),(f==null?void 0:f.object_storage)==="active"?d.handleSubmit(g):B(!0)};s.useEffect(()=>{a&&(d.resetForm(),y())},[a]);const u=i&&i.filter(g=>d.values.cluster.includes(g.id)),{showGDPRCheckbox:E}=Ae({agreements:p,profile:o,regions:i,selectedRegionId:((c=u==null?void 0:u[0])==null?void 0:c.id)??""}),S=ge(["label","cluster"],x);return t.jsx(_e,{onClose:n,open:a,title:"Create Bucket",children:t.jsxs("form",{onSubmit:_,children:[r&&t.jsx(L,{"data-qa-permissions-notice":!0,important:!0,text:"You don't have permissions to create a Bucket. Please contact an account administrator for details.",variant:"error"}),!!S.none&&t.jsx(L,{text:S.none,variant:"error"}),t.jsx(be,{"data-qa-cluster-label":!0,"data-testid":"label",disabled:r,errorText:S.label??d.errors.label,label:"Label",name:"label",onBlur:d.handleBlur,onChange:d.handleChange,required:!0,value:d.values.label}),t.jsx(Ue,{"data-qa-cluster-select":!0,disabled:r,error:S.cluster,onBlur:d.handleBlur,onChange:g=>d.setFieldValue("cluster",g),required:!0,selectedCluster:d.values.cluster}),((N=u==null?void 0:u[0])==null?void 0:N.id)&&t.jsx(qe,{regionId:(F=u==null?void 0:u[0])==null?void 0:F.id}),E?t.jsx($e,{checked:O,onChange:g=>I(g.target.checked)}):null,t.jsx(K,{primaryButtonProps:{"data-testid":"create-bucket-button",disabled:!d.values.cluster||E&&!O,label:"Create Bucket",loading:l,type:"submit"},secondaryButtonProps:{label:"Cancel",onClick:n}}),t.jsx(Me,{handleSubmit:d.handleSubmit,onClose:()=>B(!1),open:j,regionId:(G=u==null?void 0:u[0])==null?void 0:G.id})]})})},$e=v(ae,{label:"StyledEUAgreementCheckbox"})(({theme:e})=>({marginButton:e.spacing(3),marginTop:e.spacing(3)})),He=s.lazy(()=>X(()=>import("./BucketLanding-89aeQKjK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24])).then(e=>({default:e.BucketLanding}))),Xe=s.lazy(()=>X(()=>import("./AccessKeyLanding-IqXhRv0M.js"),__vite__mapDeps([25,1,2,18,26,9,10,27,28,29,7,30,31,11,14,13,32,19,33,34,24,35,36,37,38,22,23,8,39,40,41,42,43,44,45,46,47,16,48,49,50,51])).then(e=>({default:e.AccessKeyLanding}))),Ye=()=>{const e=Y(),[o,a]=s.useState("creating"),{action:n,tab:r}=pe(),i=r==="buckets"&&n==="create",{_isRestrictedUser:h,accountSettings:b}=me(),{data:x}=R(),{data:l,error:k,isLoading:y}=H(x),p=(l==null?void 0:l.buckets.length)===0,m=Ee(),f=[{routeName:"/object-storage/buckets",title:"Buckets"},{routeName:"/object-storage/access-keys",title:"Access Keys"}],j=["buckets","access-keys"],B=c=>{a(c),m.open()},O=c=>{e.push(f[c].routeName)},d=(fe().promotionalOffers??[]).filter(c=>c.features.includes("Object Storage")),_=!y&&!k&&p&&(b==null?void 0:b.object_storage)==="active",u=!y&&r==="buckets"&&p,E=r==="access-keys"?"Create Access Key":"Create Bucket",S=()=>{if(r==="access-keys")return a("creating"),m.open();e.replace("/object-storage/buckets/create")};return t.jsxs(s.Fragment,{children:[t.jsx(he,{segment:"Object Storage"}),t.jsx(ke,{breadcrumbProps:{pathname:"/object-storage"},createButtonText:E,docsLink:"https://www.linode.com/docs/platform/object-storage/",entity:"Object Storage",onButtonClick:S,removeCrumbX:1,shouldHideDocsAndCreateButtons:u,title:"Object Storage"}),t.jsxs(Te,{index:j.findIndex(c=>c===r)!==-1?j.findIndex(c=>c===r):0,onChange:O,children:[t.jsx(Ce,{tabs:f}),d.map(c=>t.jsx(Je,{...c,fullWidth:!0},c.name)),_&&t.jsx(J,{}),t.jsx(s.Suspense,{fallback:t.jsx(xe,{}),children:t.jsxs(Be,{children:[t.jsx(U,{index:0,children:t.jsx(He,{})}),t.jsx(U,{index:1,children:t.jsx(Xe,{accessDrawerOpen:m.isOpen,closeAccessDrawer:m.close,isRestrictedUser:h,mode:o,openAccessDrawer:B})})]})}),t.jsx(Ke,{isOpen:i,onClose:()=>e.replace("/object-storage/buckets")})]})]})},q="obj-billing-notification",J=s.memo(()=>{const e=Y();return t.jsx(ye,{options:{expiry:je.utc().plus({days:30}).toISO(),label:q},important:!0,preferenceKey:q,variant:"warning",children:t.jsxs(T,{variant:"body1",children:["You are being billed for Object Storage but do not have any Buckets. You can cancel Object Storage in your"," ",t.jsx(D,{to:"/account/settings",children:"Account Settings"}),", or"," ",t.jsx(Se,{onClick:()=>e.replace("/object-storage/buckets/create"),children:"create a Bucket."})]})})}),Je=v(Pe,{label:"StyledPromotionalOfferCard"})(({theme:e})=>({marginBottom:e.spacing(.5)})),ut=Object.freeze(Object.defineProperty({__proto__:null,BillingNotice:J,ObjectStorageLanding:Ye},Symbol.toStringTag,{value:"Module"}));export{Me as E,ut as O};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/BucketLanding-89aeQKjK.js","assets/index-Eksrs3uK.js","assets/index-RL6WRErT.css","assets/OrderBy-H-bWJCPy.js","assets/splitAt-pbTnq2Oi.js","assets/TypeToConfirmDialog-9yjZCCL0.js","assets/TypeToConfirm-koQ3u5up.js","assets/useOpenClose-GWPIoKTB.js","assets/CancelNotice-81V60KA8.js","assets/CopyTooltip-mIyzAQ7E.js","assets/index-Y5esPPk-.js","assets/Drawer-A9yKjC3Z.js","assets/AccessSelect-HbZAM-Pg.js","assets/Toggle-AbahDP9J.js","assets/utilities-12-n12_Y.js","assets/ResourcesSection-fJQ13r7x.js","assets/ListItem-joIHQeyv.js","assets/Paginate-XLm_-WxT.js","assets/PaginationFooter-NHWf7fW2.js","assets/TableRow-phXfWUGW.js","assets/TableSortCell-hcsagFzN.js","assets/DateTimeDisplay-bXC9mIcz.js","assets/ActionMenu-4CPisA_2.js","assets/InlineMenuAction-d5mRENST.js","assets/TableHead-Si_pzkLK.js","assets/AccessKeyLanding-IqXhRv0M.js","assets/SecretTokenDialog-Sh51_GwU.js","assets/download-J2cziBKr.js","assets/downloadFile-7KribbgA.js","assets/scrollErrorIntoView-6n4Cku1Y.js","assets/usePagination-Sxr0Tlb7.js","assets/formik.esm-Kap5lsIh.js","assets/Radio-HudVgwMW.js","assets/AccessCell-Cs7x-Gib.js","assets/monitor-ok-uFJibhtB.js","assets/TableRowEmpty-aXmC67-Z.js","assets/TableRowError-8gKmGX7P.js","assets/TableRowLoading-iP7zIRHG.js","assets/Skeleton-iwmO4Yae.js","assets/LandingHeader-JXAVBhqg.js","assets/useWindowDimensions-Dnr94FWA.js","assets/SafeTabPanel-S0Pp8CVT.js","assets/TabList-4PWL4GSj.js","assets/TabLinkList-BrXtJznm.js","assets/RegionSelect-_Z8IGlox.js","assets/Autocomplete-XvrzKoAo.js","assets/Flag-kVTQNGw3.js","assets/Flag-_y0A-gKD.css","assets/visuallyHidden-DVicuktI.js","assets/constants-KokzTiEs.js","assets/TextTooltip-SPU6hUyt.js","assets/dynamicPricing-n5eCZqTg.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}