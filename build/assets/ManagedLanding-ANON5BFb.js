import{Z as q,J as B,at as H,au as y,av as g,aw as u,ax as j,ay as U,az as $,aA as R,aB as I,aC as F,aD as x,aE as Q,aF as z,aG as V,aH as W,aI as K,aJ as J,aK as X,aL as Y,aM as Z,aN as b,aO as tt,aP as et,aQ as nt,aR as at,aS as rt,aT as st,aU as ot,aV as it,s as c,aW as lt,ao as ct,aX as dt,j as e,E as T,an as L,C as A,T as m,G as s,aY as ut,r as d,V as E,f as G,u as P,_ as S,Q as gt}from"./index-Eksrs3uK.js";import{L as pt}from"./LandingHeader-JXAVBhqg.js";import{N as mt}from"./NavTabs-EcGU7lQb.js";import{P as ht}from"./ProductInformationBanner-NRgFHJLr.js";import{L as M}from"./LineGraph-UgU3EQj3.js";import{T as yt}from"./TabbedPanel-IicwaI6L.js";import{f as xt,g as Ct,c as bt}from"./utilities-JekaXHyt.js";import{S as ft}from"./monitor-ok-uFJibhtB.js";import{S as jt}from"./SupportTicketDialog-vNptwFQg.js";const St=async t=>{const n=t.filter(a=>q(a.created).diff(B.local()).days<30);return Promise.all(n.map(a=>H(a.entity.id).then(r=>({...a,dateClosed:r.closed,status:r.status})).catch(r=>a)))},i="managed",Ce=()=>y(`${i}-ssh-key`,U,j.oneTimeFetch),be=()=>y(`${i}-linode-settings`,$t,{refetchOnMount:"always"}),fe=()=>y(`${i}-credentials`,Tt,j.oneTimeFetch),je=()=>y(`${i}-contacts`,wt,j.oneTimeFetch),Mt=()=>y(`${i}-issues`,Dt,{refetchInterval:2e4}),vt=()=>y(`${i}-monitors`,Lt,{refetchInterval:2e4}),kt=()=>y(`${i}-stats`,rt,{...j.shortLived,retry:!1}),Se=()=>{const t=g();return u(({id:n})=>R(n),$(`${i}-monitors`,t))},Me=()=>{const t=g();return u(F,I(`${i}-monitors`,t))},ve=t=>{const n=g();return u(a=>Q(t,a),x(`${i}-monitors`,n))},ke=()=>{const t=g();return u(z,I(`${i}-credentials`,t))},we=t=>u(n=>V(t,n)),Te=t=>{const n=g();return u(a=>W(t,a),x(`${i}-credentials`,n))},Le=()=>{const t=g();return u(({id:n})=>K(n),$(`${i}-credentials`,t))},$e=()=>{const t=g();return u(J,I(`${i}-contacts`,t))},Ie=()=>{const t=g();return u(({id:n})=>X(n),$(`${i}-contacts`,t))},De=t=>{const n=g();return u(a=>Y(t,a),x(`${i}-contacts`,n))},_e=t=>{const n=g();return u(a=>Z(t,a),x(`${i}-linode-settings`,n))},Ae=t=>{const n=g();return u(()=>st(t),x(`${i}-monitors`,n))},Ee=t=>{const n=g();return u(()=>ot(t),x(`${i}-monitors`,n))},wt=()=>b(tt)().then(t=>t.data),Tt=()=>b(et)().then(t=>t.data),Lt=()=>b(nt)().then(t=>t.data),$t=()=>b(at)().then(t=>t.data),It=()=>b(it)().then(t=>t.data),Dt=()=>It().then(t=>St(t)),v=c("div",{label:"StyledCanvasContainerDiv"})(({theme:t})=>({marginTop:t.spacing(3)})),_t=c("div",{label:"StyledGraphControlsDiv"})(({theme:t})=>({"& canvas":{height:"300px !important"},"&:before":{backgroundColor:t.palette.divider,content:'""',height:"calc(100% - 102px);",left:0,position:"absolute",[t.breakpoints.down("sm")]:{display:"none"},top:52,width:1},position:"relative"})),k=c("div",{label:"StyledRootDiv"})({position:"relative"}),w=300,f=t=>t.map(n=>[n.x,n.y]),At=t=>xt(t/8),Et=(t,n,a)=>{const r=e.jsx(m,{variant:"body1",children:"This graph represents combined usage for all Linodes on this account."});if(!t)return[];const l=t.net_in.map(C=>C.y),o=t.net_out.map(C=>C.y),p=Math.max(...l),h=Math.max(...o),N=Math.max(p,h)/8,D=Ct(N),O=C=>bt(C,D);return[{render:()=>e.jsxs(k,{children:[e.jsx("div",{children:r}),e.jsx(v,{children:e.jsx(M,{data:[{backgroundColor:a.graphs.cpu.percent,borderColor:"transparent",data:f(t.cpu),label:"CPU %"}],accessibleDataTable:{unit:"%"},ariaLabel:"CPU Usage Graph",chartHeight:w,showToday:!0,timezone:n})})]}),title:"CPU Usage (%)"},{render:()=>e.jsxs(k,{children:[e.jsx("div",{children:r}),e.jsx(v,{children:e.jsx(M,{data:[{backgroundColor:a.graphs.network.inbound,borderColor:"transparent",data:f(t.net_in),label:"Network Traffic In"},{backgroundColor:a.graphs.network.outbound,borderColor:"transparent",data:f(t.net_out),label:"Network Traffic Out"}],accessibleDataTable:{unit:'Kb/s"'},ariaLabel:"Network Transfer Graph",chartHeight:w,formatData:O,formatTooltip:At,nativeLegend:!0,showToday:!0,timezone:n,unit:"/s"})})]}),title:`Network Transfer (${D}/s)`},{render:()=>e.jsxs(k,{children:[e.jsx("div",{children:r}),e.jsx(v,{children:e.jsx(M,{data:[{backgroundColor:a.graphs.yellow,borderColor:"transparent",data:f(t.disk),label:"Disk I/O"}],accessibleDataTable:{unit:"op/s"},ariaLabel:"Disk I/O Graph",chartHeight:w,showToday:!0,timezone:n})})]}),title:"Disk I/O (op/s)"}]},Gt=()=>{const t=lt(),{data:n}=ct(),a=dt(n==null?void 0:n.timezone),{data:r,error:l,isLoading:o}=kt();if(l)return e.jsx(T,{errorText:L(l,"Unable to load your usage statistics.")[0].reason});if(o)return e.jsx(A,{});if(!r)return null;const p=Et(r.data,a,t),h=0;return e.jsx(_t,{children:e.jsx(yt,{copy:"",error:void 0,header:"",initTab:h,rootClass:"tabbedPanel",tabs:p})})},Pt=c(s,{label:"StyledRootGrid"})(({theme:t})=>({backgroundColor:t.bg.white,margin:`0 0 ${t.spacing(2.5)} 0`,width:"100% !important"})),Nt=c(s,{label:"StyledHeaderGrid"})(({theme:t})=>({padding:t.spacing(3),paddingBottom:0})),Ot=c(ut,{label:"StyledTypograohy"})(({theme:t})=>({left:`-${t.spacing(2)}`,marginLeft:t.spacing(.5),position:"relative",top:6})),qt=t=>{const{alignHeader:n,alignItems:a,headerAction:r,noHeaderActionStyles:l,title:o}=t,p=l?m:Ot;return e.jsxs(Pt,{container:!0,"data-qa-card":o,spacing:2,children:[(o||r)&&e.jsx(s,{xs:12,children:e.jsxs(Nt,{alignItems:a||"flex-start",container:!0,justifyContent:n||"space-between",spacing:2,children:[o&&e.jsx(s,{className:"p0",children:e.jsx(m,{variant:"h2",children:o})}),r&&e.jsx(s,{className:"p0",children:e.jsx(p,{variant:"body1",children:r()})})]})}),e.jsx(s,{xs:12,children:t.children})]})},Bt=c(s,{label:"StyledMonitorStatusOuterGrid"})(({theme:t})=>({marginBottom:t.spacing(1),[t.breakpoints.up("lg")]:{marginBottom:`calc(${t.spacing(3)} + 2px)`}})),Ht=c(s,{label:"StyledOuterContainerGrid"})(({theme:t})=>({margin:"-8px",[t.breakpoints.up("sm")]:{flexWrap:"nowrap"}})),Ut=c(qt,{label:"StyledDashboardCard"})(({theme:t})=>({backgroundColor:t.bg.bgPaper,margin:"0 !important",[t.breakpoints.up("sm")]:{marginBottom:20},width:"100%"})),Rt=c(s,{label:"StyledStatusGrid"})(({theme:t})=>({position:"relative",[t.breakpoints.up("sm")]:{margin:`${t.spacing(3)} ${t.spacing(1)} !important`}})),Ft=t=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:64,height:64,viewBox:"0 0 64 64",...t},d.createElement("g",{fill:"none",fillRule:"evenodd"},d.createElement("circle",{cx:32,cy:32,r:32,fill:"#CF1E1E"}),d.createElement("g",{fill:"#FFF",transform:"translate(18 18)"},d.createElement("rect",{width:4,height:35,x:12,y:-3.501,rx:2,transform:"rotate(45 14 13.999)"}),d.createElement("rect",{width:4,height:35,x:12,y:-3.501,rx:2,transform:"rotate(-45 14 13.999)"})))),Qt=c(m,{label:"StyledTypography"})(({theme:t})=>({"&:before":{backgroundColor:t.color.red,content:'""',height:3,left:-30,position:"absolute",top:7,width:16},"&:last-of-type":{marginBottom:0},color:t.color.headline,marginBottom:`calc(${t.spacing(2)} - 3)`,position:"relative",textAlign:"left"})),zt=c(s,{label:"StyledIconGrid"})({"& svg":{display:"flex",height:56,width:56}}),Vt=c(s,{label:"StyledRootGrid"})(({theme:t})=>({padding:"0",textAlign:"center",[t.breakpoints.down("lg")]:{padding:`${t.spacing(2)} 0 0`}})),Wt=t=>{const{monitors:n}=t,a=Kt(n),r=50;return e.jsxs(Vt,{alignItems:"center",container:!0,direction:"column",justifyContent:"center",children:[e.jsx(s,{children:e.jsx(zt,{children:a.length===0?e.jsx(ft,{height:r,width:r}):e.jsx(Ft,{height:r,width:r})})}),e.jsx(s,{children:e.jsx(m,{variant:"h2",children:a.length===0?"All monitored services are up":`${a.length} monitored ${a.length===1?"service is":"services are"} down`})}),a.length>0&&e.jsx(s,{children:a.map((l,o)=>e.jsx(Qt,{variant:"body1",children:l},`failed-monitor-list-${o}`))}),e.jsx(s,{children:e.jsxs(m,{sx:{maxWidth:250},children:[e.jsx(E,{to:"/managed/monitors",children:"View your list of service monitors"})," ",a.length===0?"to see details or to update your monitors.":"for details."]})})]})},Kt=t=>t.reduce((n,a)=>a.status==="problem"?[...n,a.label]:n,[]),Jt=t=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:26,height:20,viewBox:"0 0 26 20",...t},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2,d:"M3.5 4.5L13.5 4.5M3.5 7.5L13.5 7.5M3.5 10.5L20.5 10.5M3.5 13.5L20.5 13.5M19.5.793C19.313.605 19.058.5 18.793.5L1.5.5C.948.5.5.948.5 1.5L.5 16.5C.5 17.052.948 17.5 1.5 17.5L22.5 17.5C23.052 17.5 23.5 17.052 23.5 16.5L23.5 5.207C23.5 4.942 23.395 4.687 23.207 4.5L19.5.793z",transform:"translate(1 1)"})),Xt=c(G,{label:"StyledButton"})(({theme:t})=>({[t.breakpoints.down("md")]:{paddingLeft:12,paddingRight:12}})),Yt=c(s,{label:"StyledGridIcon"})(({theme:t})=>({padding:t.spacing(),textAlign:"center"})),Zt=t=>{const{issues:n}=t,a=P(),r=n.filter(o=>!o.dateClosed),l=r.length>0;return e.jsxs(Yt,{alignItems:"center",container:!0,direction:"column",justifyContent:"center",children:[e.jsx(s,{sx:o=>({color:l?o.color.red:o.color.grey1,padding:`0 ${o.spacing(1)}`}),children:e.jsx(Jt,{height:39,width:50})}),e.jsx(s,{children:e.jsx(m,{variant:"h2",children:l?`${r.length} open support ${r.length===1?"ticket":"tickets"}`:"No open support tickets"})}),e.jsx(s,{children:l?e.jsxs(m,{children:["View the ",e.jsx(E,{to:"/support/tickets",children:"Support tickets page"})," for a full list of open tickets."]}):e.jsx(Xt,{onClick:()=>a.push({pathname:"/support/tickets",state:{open:!0,title:"Managed monitor issue"}}),buttonType:"primary",children:"Open a ticket"})})]})},te=()=>{const{data:t,error:n,isLoading:a}=vt(),{data:r,error:l,isLoading:o}=Mt(),p="Error loading your Managed service information.";if(n){const h=L(n,p)[0].reason;return e.jsx(T,{compact:!0,errorText:h})}if(l){const h=L(l,p)[0].reason;return e.jsx(T,{compact:!0,errorText:h})}return a||o?e.jsx(A,{}):e.jsx(Ut,{alignItems:"center",noHeaderActionStyles:!0,children:e.jsxs(Ht,{alignItems:"center",container:!0,direction:"row",justifyContent:"center",children:[e.jsxs(Rt,{alignItems:"center",container:!0,direction:"column",justifyContent:"space-around",sm:5,xs:12,children:[e.jsx(Bt,{children:e.jsx(Wt,{monitors:t||[]})}),e.jsx(s,{children:e.jsx(Zt,{issues:r||[]})})]}),e.jsx(s,{className:"p0",sm:8,xs:12,children:e.jsx(Gt,{})})]})})},ee=()=>{const t=P(),[n,a]=d.useState(!1),r=(l,o=[])=>{t.push({pathname:`/support/tickets/${l}`,state:{attachmentErrors:o}})};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{buttonType:"secondary",onClick:()=>a(!0),children:"Open Support Ticket"}),e.jsx(jt,{onClose:()=>a(!1),onSuccess:r,open:n})]})},ne=c(G,{label:"StyledButton"})(({theme:t})=>({color:t.textColors.linkActiveLight})),ae=d.memo(ee),re=d.lazy(()=>S(()=>import("./Contacts-6Ch1r9aD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]))),se=d.lazy(()=>S(()=>import("./index-VaArt3QG.js"),__vite__mapDeps([42,1,2,3,4,5,6,7,8,9,10,11,12,17,14,43,16,37,44,19,20,21,22,45,24,46,26,27,28,29,30,31,32,33,34,35,36,38,39,40,41]))),oe=d.lazy(()=>S(()=>import("./index-xAIzmIhH.js"),__vite__mapDeps([47,1,2,48,49,6,7,8,9,10,11,13,14,16,50,17,51,52,19,20,21,22,45,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]))),ie=d.lazy(()=>S(()=>import("./CredentialList-XYK3X_N6.js"),__vite__mapDeps([53,1,2,3,4,5,6,7,8,9,10,11,12,17,25,14,16,18,19,20,21,22,44,45,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]))),le=[{component:te,routeName:"/managed/summary",title:"Summary"},{render:e.jsx(se,{}),routeName:"/managed/monitors",title:"Monitors"},{component:oe,routeName:"/managed/ssh-access",title:"SSH Access"},{render:e.jsx(ie,{}),routeName:"/managed/credentials",title:"Credentials"},{render:e.jsx(re,{}),routeName:"/managed/contacts",title:"Contacts"}],_=()=>e.jsxs(d.Fragment,{children:[e.jsx(gt,{segment:"Managed"}),e.jsx(ht,{bannerLocation:"Managed"}),e.jsx(pt,{docsLink:"https://www.linode.com/docs/platform/linode-managed/",entity:"Managed",extraActions:e.jsx(ae,{}),removeCrumbX:1,title:"Managed"}),e.jsx(mt,{tabs:le})]}),Ge=Object.freeze(Object.defineProperty({__proto__:null,ManagedLanding:_,default:_},Symbol.toStringTag,{value:"Module"}));export{Ge as M,Ft as S,De as a,je as b,Ie as c,Jt as d,Ae as e,Ee as f,vt as g,Mt as h,fe as i,Se as j,ve as k,Me as l,Ce as m,_e as n,be as o,ke as p,Le as q,we as r,Te as s,$e as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Contacts-6Ch1r9aD.js","assets/index-Eksrs3uK.js","assets/index-RL6WRErT.css","assets/AddNewLink-LwviGK8c.js","assets/DeletionDialog-MVB4bfuG.js","assets/TypeToConfirm-koQ3u5up.js","assets/OrderBy-H-bWJCPy.js","assets/splitAt-pbTnq2Oi.js","assets/Paginate-XLm_-WxT.js","assets/PaginationFooter-NHWf7fW2.js","assets/TableRow-phXfWUGW.js","assets/TableSortCell-hcsagFzN.js","assets/useDialog-Tn1TxMfw.js","assets/useOpenClose-GWPIoKTB.js","assets/formik.esm-Kap5lsIh.js","assets/pick-ELd0PGNj.js","assets/Drawer-A9yKjC3Z.js","assets/formikErrorUtils-jhqfCjwU.js","assets/formikTrimUtil-tfsUpEEv.js","assets/TableRowEmpty-aXmC67-Z.js","assets/TableRowError-8gKmGX7P.js","assets/TableRowLoading-iP7zIRHG.js","assets/Skeleton-iwmO4Yae.js","assets/arePropsEqual-WL8SjyyC.js","assets/InlineMenuAction-d5mRENST.js","assets/Contacts.styles-wn0Khfph.js","assets/TableHead-Si_pzkLK.js","assets/LandingHeader-JXAVBhqg.js","assets/NavTabs-EcGU7lQb.js","assets/SafeTabPanel-S0Pp8CVT.js","assets/TabList-4PWL4GSj.js","assets/TabLinkList-BrXtJznm.js","assets/ProductInformationBanner-NRgFHJLr.js","assets/LineGraph-UgU3EQj3.js","assets/utilities-JekaXHyt.js","assets/visuallyHidden-DVicuktI.js","assets/TabbedPanel-IicwaI6L.js","assets/monitor-ok-uFJibhtB.js","assets/SupportTicketDialog-vNptwFQg.js","assets/scrollErrorIntoView-6n4Cku1Y.js","assets/TabbedReply-8laJdW9a.js","assets/remove-KHZAQMPH.js","assets/index-VaArt3QG.js","assets/pickBy-ZiFDTica.js","assets/DateTimeDisplay-bXC9mIcz.js","assets/ActionMenu-4CPisA_2.js","assets/pending-Ji4jJt0E.js","assets/index-xAIzmIhH.js","assets/index-Y5esPPk-.js","assets/immer.esm--MpJ8fpr.js","assets/Toggle-AbahDP9J.js","assets/ipUtils-P4y3JNCT.js","assets/ipaddr-jlottelM.js","assets/CredentialList-XYK3X_N6.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}