import{c4 as j,c5 as p,e as C,u as F,h as L,r as c,aj as Q}from"./index-Eksrs3uK.js";import{g as R}from"./OrderBy-H-bWJCPy.js";const v=(e,a,o)=>{const{data:t}=j(),{mutateAsync:m}=p(),u=C(),y=F(),h=L(u.search),d=R(a||"",t||{},h,e==null?void 0:e.orderBy,e==null?void 0:e.order,o),[P,g]=c.useState(d.orderBy),[f,S]=c.useState(d.order),B=c.useRef(Q(1500,!1,(r,s)=>{a&&m({sortKeys:{...(t==null?void 0:t.sortKeys)??{},[a]:{order:s,orderBy:r}}})})).current;return{handleOrderChange:(r,s)=>{g(r),S(s);const U=o?{[`${o}-order`]:s,[`${o}-orderBy`]:r}:{order:s,orderBy:r},n=new URLSearchParams(u.search);for(const[b,$]of Object.entries(U))n.set(b,$);y.replace(`?${n.toString()}`),B(r,s)},order:f,orderBy:P}};export{v as u};
