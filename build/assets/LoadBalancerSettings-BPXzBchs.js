import{u as h,r as g,j as a,aa as c,a0 as o,T as l,B as m,f as u,bB as j,iV as y,b as f}from"./index-Eksrs3uK.js";import{b as d,d as p}from"./loadbalancers-xfUXrZkQ.js";import{D as B}from"./LoadBalancerDeleteDialog-SmSN1oJk.js";import{u as x}from"./formik.esm-Kap5lsIh.js";import{L}from"./LoadBalancerRegions-BPkF2TzX.js";import"./TypeToConfirmDialog-9yjZCCL0.js";import"./TypeToConfirm-koQ3u5up.js";import"./Flag-kVTQNGw3.js";const S=({loadbalancerId:n})=>{const e=h(),[s,t]=g.useState(!1),{data:i}=d(n);return a.jsxs(c,{children:[a.jsxs(o,{spacing:1,children:[a.jsx(l,{variant:"h2",children:"Delete Load Balancer"}),a.jsx(m,{children:a.jsx(u,{buttonType:"primary",onClick:()=>t(!0),type:"submit",children:"Delete"})})]}),a.jsx(B,{loadbalancer:i,onClose:()=>t(!1),onSuccess:()=>e.replace("/loadbalancers"),open:s})]})},D=({loadbalancerId:n})=>{const{data:e}=d(n),{error:s,isLoading:t,mutateAsync:i}=p(n),r=x({enableReinitialize:!0,initialValues:{label:e==null?void 0:e.label},async onSubmit(b){await i(b)}});return a.jsx(c,{children:a.jsx("form",{onSubmit:r.handleSubmit,children:a.jsxs(o,{spacing:1,children:[a.jsx(j,{errorText:s==null?void 0:s[0].reason,label:"Load Balancer Label",name:"label",noMarginTop:!0,onChange:r.handleChange,value:r.values.label}),a.jsx(m,{children:a.jsx(u,{buttonType:"primary",disabled:!r.dirty,loading:t,type:"submit",children:"Save"})})]})})})},R=({loadbalancerId:n})=>{const{data:e}=d(n),{mutateAsync:s}=p(n),t=x({enableReinitialize:!0,initialValues:{regions:e==null?void 0:e.regions},async onSubmit(i){await s(i)}});return a.jsx(c,{children:a.jsx("form",{onSubmit:t.handleSubmit,children:a.jsxs(o,{spacing:1.5,children:[a.jsx(l,{variant:"h2",children:"Regions"}),a.jsxs(l,{children:[a.jsx(y,{component:"span",sx:{marginLeft:"0 !important",marginRight:"8px !important"}})," ","Load Balancer regions can not be changed during beta."]}),a.jsx(L,{})]})})})},A=()=>{const{loadbalancerId:n}=f(),e=Number(n);return a.jsxs(o,{spacing:2,children:[a.jsx(D,{loadbalancerId:e}),a.jsx(R,{loadbalancerId:e}),a.jsx(S,{loadbalancerId:e})]})};export{A as LoadBalancerSettings};
