import{bc as w,N as B,bt as A,j as c,bC as D,a5 as E}from"./index-Eksrs3uK.js";import{A as R,C as V}from"./Autocomplete-XvrzKoAo.js";const q=(e,s=[])=>{const i=new Map(s.map(l=>[l.id,l]));return Array.isArray(e)?e.map(l=>i.get(l)).filter(w):e!==null?i.get(e)??null:null},U=e=>{const{clearable:s=!0,disabled:i,errorText:l,filter:h,helperText:C,id:O,label:d,loading:j,multiple:o,noMarginTop:S,noOptionsMessage:T,onBlur:I,onSelectionChange:f,options:M,optionsFilter:g,placeholder:b,renderOption:m,renderOptionLabel:L,sx:N,value:t}=e,{data:p,error:u,isLoading:x}=B({},h),[P,y]=A.useState(""),r=g?p==null?void 0:p.filter(g):p;return A.useEffect(()=>{t===null&&y("")},[t]),c.jsx(R,{getOptionLabel:a=>L?L(a):a.label,noOptionsText:T??v(u,x),onChange:(a,n)=>(o&&Array.isArray(n)||!o&&!Array.isArray(n))&&f(n),placeholder:b||(o?"Select Linodes":"Select a Linode"),renderOption:m?(a,n,{selected:_})=>c.jsx("li",{...a,"data-qa-linode-option":!0,children:m(n,_)}):void 0,value:typeof t=="function"?o&&Array.isArray(t)?(r==null?void 0:r.filter(t))??null:(r==null?void 0:r.find(t))??null:q(t,r),ChipProps:{deleteIcon:c.jsx(D,{})},PopperComponent:V,clearOnBlur:!1,disableClearable:!s,disableCloseOnSelect:o,disablePortal:!0,disabled:i,errorText:(u==null?void 0:u[0].reason)??l,helperText:C,id:O,inputValue:P,label:d||(o?"Linodes":"Linode"),loading:x||j,multiple:o,noMarginTop:S,onBlur:I,onInputChange:(a,n)=>y(n),options:M||(r??[]),popupIcon:c.jsx(E,{}),sx:N})},v=(e,s)=>e?"An error occurred while fetching your Linodes":s?"Loading your Linodes...":"No options";export{U as L,q as m};
