import{r as l,_ as u,u as D,b as P,kk as S,kl as C,km as k,j as a,E as $,an as p,C as A,Q as I,bq as O}from"./index-Eksrs3uK.js";import{L as N}from"./LandingHeader-JXAVBhqg.js";import{S as i}from"./SafeTabPanel-S0Pp8CVT.js";import{T as v}from"./TabLinkList-BrXtJznm.js";import{a as R,T as w}from"./TabList-4PWL4GSj.js";import{u as z}from"./useEditableLabelState-CfKjpK1t.js";const B=l.lazy(()=>u(()=>import("./index-Y1VBUxu9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]))),H=l.lazy(()=>u(()=>import("./index-syDSqqkL.js"),__vite__mapDeps([24,1,2,6,25,26,27,28,29,30,31,32,33,34,35,5,36]))),Q=l.lazy(()=>u(()=>import("./index-oYVTy0vO.js"),__vite__mapDeps([37,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,33,34,38,39,40]))),U=()=>{const b=D(),{databaseId:x,engine:t}=P(),s=Number(x),{data:e,error:d,isLoading:h}=S(t,s),{isLoading:g}=C(),{mutateAsync:_}=k(t,s),{editableLabelError:E,resetEditableLabel:m,setEditableLabelError:T}=z();if(d)return a.jsx($,{errorText:p(d,"Error loading your database.")[0].reason});if(h||g)return a.jsx(A,{});if(!e)return null;const n=[{routeName:`/databases/${t}/${s}/summary`,title:"Summary"},{routeName:`/databases/${t}/${s}/backups`,title:"Backups"},{routeName:`/databases/${t}/${s}/settings`,title:"Settings"}],j=()=>{const r=n.findIndex(o=>!!O(o.routeName,{path:location.pathname}));return r<0?(b.push(`/databases/${t}/${s}`),0):r},L=r=>{b.push(n[r].routeName)},f=r=>_({allow_list:e.allow_list,label:r}).then(()=>{m()}).catch(o=>{const c=p(o,"An error occurred while updating label","label").map(y=>y.reason);return T(c[0]),Promise.reject(c[0])});return a.jsxs(a.Fragment,{children:[a.jsx(I,{segment:e.label}),a.jsx(N,{breadcrumbProps:{crumbOverrides:[{label:"Database Clusters",position:1}],firstAndLastOnly:!0,labelOptions:{noCap:!0},onEditHandlers:{editableTextTitle:e.label,errorText:E,onCancel:m,onEdit:f},pathname:location.pathname},title:e.label}),a.jsxs(R,{index:j(),onChange:L,children:[a.jsx(v,{tabs:n}),a.jsxs(w,{children:[a.jsx(i,{index:0,children:a.jsx(B,{database:e})}),a.jsx(i,{index:1,children:a.jsx(H,{})}),a.jsx(i,{index:2,children:a.jsx(Q,{database:e})})]})]})]})};export{U as DatabaseDetail,U as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-Y1VBUxu9.js","assets/index-Eksrs3uK.js","assets/index-RL6WRErT.css","assets/AccessControls-OuapwWFu.js","assets/AddNewLink-LwviGK8c.js","assets/InlineMenuAction-d5mRENST.js","assets/TableRow-phXfWUGW.js","assets/ipUtils-P4y3JNCT.js","assets/ipaddr-jlottelM.js","assets/formik.esm-Kap5lsIh.js","assets/Drawer-A9yKjC3Z.js","assets/MultipleIPInput-NQt3M-F3.js","assets/FirewallRuleDrawer.utils-gE7QU4cL.js","assets/uniq-xa8_MmzW.js","assets/_contains-91K6xqrF.js","assets/shared-QcuPM2Px.js","assets/sortBy-avzW26A0.js","assets/formikErrorUtils-jhqfCjwU.js","assets/StatusIcon-RuV8PvAV.js","assets/DatabaseRow-eP9fQ9jC.js","assets/lke-download-Hz_dthl6.js","assets/CopyTooltip-mIyzAQ7E.js","assets/index-Y5esPPk-.js","assets/downloadFile-7KribbgA.js","assets/index-syDSqqkL.js","assets/TableRowEmpty-aXmC67-Z.js","assets/TableRowError-8gKmGX7P.js","assets/TableRowLoading-iP7zIRHG.js","assets/Skeleton-iwmO4Yae.js","assets/TableSortCell-hcsagFzN.js","assets/useOrder-rsUMHEuj.js","assets/OrderBy-H-bWJCPy.js","assets/splitAt-pbTnq2Oi.js","assets/TypeToConfirmDialog-9yjZCCL0.js","assets/TypeToConfirm-koQ3u5up.js","assets/DateTimeDisplay-bXC9mIcz.js","assets/TableHead-Si_pzkLK.js","assets/index-oYVTy0vO.js","assets/Radio-HudVgwMW.js","assets/FormControl-CNHz4Ctl.js","assets/RadioGroup-zpRjMzXK.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}