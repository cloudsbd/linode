var xe=Object.defineProperty;var we=(t,i,a)=>i in t?xe(t,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[i]=a;var B=(t,i,a)=>(we(t,typeof i!="symbol"?i+"":i,a),a);import{c4 as ie,c5 as ae,s as w,aa as fe,dg as ke,ao as se,r as c,N as ne,j as e,T as M,cH as K,B as re,bC as je,c7 as Le,G as x,dh as De,ai as z,c1 as oe,a4 as ve,da as _,aW as Ce,W as H,cA as Se,e as Pe,h as Te,a1 as Oe,u as Be,di as Ae,dj as Ie,V as _e,Q,E as Ge,C as Re,dk as Me,dl as ze,dm as He,i as Fe,g as Ee,dn as Ne,w as Ve,d5 as We}from"./index-Eksrs3uK.js";import{L as $e}from"./LandingHeader-JXAVBhqg.js";import{M as Ue}from"./MaintenanceBanner-5tjriDAX.js";import{O as qe}from"./OrderBy-H-bWJCPy.js";import{P as Z}from"./ProductInformationBanner-NRgFHJLr.js";import{w as Ke}from"./image.helpers-5SOq-oMg.js";import{B as Qe}from"./BackupDrawer-aSB4X7lW.js";import{L as Ze,T as Xe,a as Je,b as Ye,M as et,c as tt,R as it,D as at}from"./DeleteLinodeDialog-APAsoTxA.js";import{E as st}from"./EnableBackupsDialog-5TgOa3Ei.js";import{s as nt,P as rt}from"./utils-x4yn563A.js";import{P as E}from"./Paginate-XLm_-WxT.js";import{g as le,P as N,M as ot}from"./PaginationFooter-NHWf7fW2.js";import{T as $,a as V,b as lt,c as W}from"./TableRow-phXfWUGW.js";import{T as de}from"./TableRowEmpty-aXmC67-Z.js";import{T as A}from"./TableSortCell-hcsagFzN.js";import{T as dt}from"./TableHead-Si_pzkLK.js";import{D as ct}from"./DownloadCSV-HnOVCNZX.js";import{u as pt}from"./useFormattedDate-CkANZUWG.js";import{u as gt}from"./accountMaintenance-hC6-dGbb.js";import{g as ce,S as pe,a as ut,d as mt,y as ht,b as yt,R as bt,c as xt,e as wt}from"./ResourcesSection-fJQ13r7x.js";import"./isPast-netbmlWS.js";import"./splitAt-pbTnq2Oi.js";import"./DisplayPrice-SNYRHKEX.js";import"./Currency-No8tnN7b.js";import"./Drawer-A9yKjC3Z.js";import"./TableRowError-8gKmGX7P.js";import"./TableRowLoading-iP7zIRHG.js";import"./Skeleton-iwmO4Yae.js";import"./backups-brLSog0e.js";import"./constants-KokzTiEs.js";import"./Toggle-AbahDP9J.js";import"./LinodeActionMenu-bV6ckFLX.js";import"./immer.esm--MpJ8fpr.js";import"./groupBy-7jUcQ2cf.js";import"./PlansPanel-EH5ViSTx.js";import"./TabbedPanel-IicwaI6L.js";import"./TabList-4PWL4GSj.js";import"./PlanInformation-CouBULD4.js";import"./TextTooltip-SPU6hUyt.js";import"./ListItem-joIHQeyv.js";import"./Radio-HudVgwMW.js";import"./SelectionCard-IyO-o1CU.js";import"./dynamicPricing-n5eCZqTg.js";import"./linodes-orSDvVk7.js";import"./arePropsEqual-WL8SjyyC.js";import"./getSelectedOptionFromGroupedOptions-4YyATpGV.js";import"./RenderGuard-iLW_eACV.js";import"./CommonStackScript.styles-tUmBO9fs.js";import"./index-C8Ov-8_e.js";import"./DebouncedSearchTextField-EUZwzd3g.js";import"./StackScript-_ub41xk0.js";import"./CopyTooltip-mIyzAQ7E.js";import"./index-Y5esPPk-.js";import"./DateTimeDisplay-bXC9mIcz.js";import"./ShowMoreExpansion-5I3PKpip.js";import"./Autocomplete-XvrzKoAo.js";import"./AccessPanel-rD0WgXZZ.js";import"./CreateSSHKeyDrawer-NnwCGTeL.js";import"./formik.esm-Kap5lsIh.js";import"./Code-HuerkG4_.js";import"./formikTrimUtil-tfsUpEEv.js";import"./getAPIErrorFor-OfQrArkQ.js";import"./usePagination-Sxr0Tlb7.js";import"./ActionMenu-4CPisA_2.js";import"./lishUtils-OjFanRCH.js";import"./linodes--kIa80QO.js";import"./disks-ZTjtBBb6.js";import"./RegionSelect-_Z8IGlox.js";import"./Flag-kVTQNGw3.js";import"./visuallyHidden-DVicuktI.js";import"./scrollErrorIntoView-6n4Cku1Y.js";import"./LinodeDisks-jJddYOGd.js";import"./AddNewLink-LwviGK8c.js";import"./RadioGroup-zpRjMzXK.js";import"./formikErrorUtils-jhqfCjwU.js";import"./ImageSelect-L2KD_WsZ.js";import"./cond-gNmMu4CH.js";import"./LinodePermissionsError-htxzmi5m.js";import"./InlineMenuAction-d5mRENST.js";import"./TypeToConfirm-koQ3u5up.js";import"./validatePassword-C5jRG3TY.js";import"./main-SCnYvbUf.js";import"./assocPath-nNkv7F8U.js";import"./firewalls-zJDfBkPC.js";import"./DeviceSelection-JvpNAIro.js";import"./FormControl-CNHz4Ctl.js";import"./TagsPanel-CYEBNrGy.js";import"./tags-kBUFHmv1.js";import"./PublicIpsUnassignedTooltip-A07mEsGp.js";import"./LinodeIPAddresses-BzUB11OC.js";import"./configs-3PoBJaCX.js";import"./vpcs-qp5yIH1u.js";import"./ipaddr-jlottelM.js";import"./remove-KHZAQMPH.js";import"./uniq-xa8_MmzW.js";import"./_contains-91K6xqrF.js";import"./_isFunction-X3ooR5X_.js";import"./over-27tc0FF7.js";import"./set-2Chj4B2I.js";import"./view-I-40yLKJ.js";import"./StatusIcon-RuV8PvAV.js";import"./recentEventForLinode-oZMi36YZ.js";import"./IPAddress-ZmG9OcMn.js";import"./ShowMore-4P5e_z46.js";import"./ipUtils-P4y3JNCT.js";import"./RegionIndicator-N3gnZFRh.js";import"./constants-jI3mcPVd.js";import"./TypeToConfirmDialog-9yjZCCL0.js";import"./lke-download-Hz_dthl6.js";const X=t=>{const{children:i,preferenceKey:a,preferenceOptions:n,toggleCallbackFn:s,value:o}=t,{data:r}=ie(),{mutateAsync:g}=ae(),u=()=>{let d;return(r==null?void 0:r[a])===void 0||r[a]===n[0]?d=n[1]:d=n[0],g({[a]:d}).catch(()=>null),s&&s(d),d};return i({preference:o??(r==null?void 0:r[a])??n[0],togglePreference:u})},ft=w(fe,{label:"StyledPaper"})(({theme:t})=>({alignItems:"center",display:"flex",justifyContent:"space-between",margin:`${t.spacing(1)} 0 ${t.spacing(3)} 0`,padding:t.spacing(1),paddingRight:t.spacing(2)})),kt=()=>{const{data:t}=ke(),{data:i}=se(),{data:a}=ie(),{mutateAsync:n}=ae(),[s,o]=c.useState(!1),r=()=>{n({backups_cta_dismissed:!0})},{data:g}=ne(),u=!(g!=null&&g.some(d=>!d.backups.enabled));return i!=null&&i.restricted||t!=null&&t.managed||u||a!=null&&a.backups_cta_dismissed?null:e.jsxs(ft,{children:[e.jsxs(M,{sx:{fontSize:"1rem",marginLeft:"0.5rem"},children:[e.jsx(K,{onClick:()=>o(!0),children:"Enable Linode Backups"})," ","to protect your data and recover quickly in an emergency."]}),e.jsx(re,{component:"span",display:"flex",children:e.jsx(K,{"aria-label":"Dismiss notice enabling Linode backups",onClick:r,sx:{lineHeight:"0.5rem",marginLeft:12},children:e.jsx(je,{})})}),e.jsx(Qe,{onClose:()=>o(!1),open:s})]})},J=t=>{const{data:i}=se(),[a,n]=c.useState({entityID:0,entityLabel:"",open:!1,tags:[]}),{mutateAsync:s}=De(a.entityID),o=()=>{n({...a,open:!1})},r=(l,m,y)=>{n({entityID:m,entityLabel:l,open:!0,tags:y})},g=l=>s({tags:l}).then(m=>{n({...a,tags:l})}),{data:u,openDialog:d,openPowerActionDialog:p}=t;return i!=null&&i.username?u.length===0?e.jsx(M,{style:{textAlign:"center"},children:"No items to display."}):e.jsxs(c.Fragment,{children:[e.jsx(x,{className:"m0",container:!0,style:{width:"100%"},children:u.map((l,m)=>e.jsx(c.Fragment,{children:e.jsx(Lt,{xs:12,"data-qa-linode-card":l.id,children:e.jsx(Ze,{handlers:{onOpenDeleteDialog:()=>d("delete",l.id,l.label),onOpenMigrateDialog:()=>d("migrate",l.id,l.label),onOpenPowerDialog:y=>p(y,l.id,l.label,[]),onOpenRebuildDialog:()=>d("rebuild",l.id,l.label),onOpenRescueDialog:()=>d("rescue",l.id,l.label),onOpenResizeDialog:()=>d("resize",l.id,l.label)},openTagDrawer:y=>r(l.label,l.id,y),id:l.id,isSummaryView:!0,linode:l})})},`linode-card-${m}`))}),e.jsx(Xe,{entityID:a.entityID,entityLabel:a.entityLabel,onClose:o,open:a.open,tags:a.tags,updateTags:g})]}):null},jt=Le({to:{backgroundColor:"hsla(40, 100%, 55%, 0)"}}),Lt=w(x,{label:"StyledSummaryGrid"})(({theme:t})=>({"& .statusOther:before":{animation:`${jt} 1.5s ease-in-out infinite`},"&.MuiGrid-item":{padding:0},backgroundColor:t.palette.background.paper,marginBottom:20,paddingTop:0,paddingBottom:0})),U=t=>c.createElement("svg",{enableBackground:"new 0 0 15.2 15.5",width:20,height:20,viewBox:"0 0 15.2 15.5",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("path",{d:"m15.2 1.2v1.5c0 .7-.5 1.2-1.2 1.2h-12.8c-.6.1-1.2-.5-1.2-1.2v-1.5c0-.7.6-1.2 1.2-1.2h12.8c.7 0 1.2.5 1.2 1.2zm-1.2 4.6h-12.8c-.6 0-1.2.5-1.2 1.2v1.5c0 .7.6 1.2 1.2 1.2h12.8c.7 0 1.2-.5 1.2-1.2v-1.5c0-.7-.5-1.2-1.2-1.2zm0 5.8h-12.8c-.7 0-1.2.5-1.2 1.2v1.6c0 .7.6 1.2 1.2 1.2h12.8c.6 0 1.2-.5 1.2-1.2v-1.6c0-.7-.5-1.2-1.2-1.2z",fill:"currentColor"})),q=t=>c.createElement("svg",{enableBackground:"new 0 0 15.4 16.9",width:20,height:20,viewBox:"0 0 15.4 16.9",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("path",{d:"m13.8 11.5-8.4-8.4c-.1-.1-.2-.1-.3-.1l-4.2.3c-.3 0-.5.2-.6.6l-.3 4.1c0 .1 0 .3.1.4l8.4 8.4c.2.2.5.2.7 0l4.6-4.6c.2-.2.2-.5 0-.7zm-10.1-4.8c-.4.4-1 .4-1.3 0s-.4-1 0-1.3c.4-.4 1-.4 1.3 0 .4.3.4.9 0 1.3zm11.7 2c0 .3-.1.6-.3.8l-1.1 1.1-.5-.5 1.1-1.1c.1-.1.1-.2.1-.3s0-.2-.1-.3l-7.6-7.6c-.1-.1-.2-.1-.3-.1l-3.7.3c-.3 0-.5.2-.5.5l-.1.9h-.7l.1-1c.1-.6.5-1 1.1-1.1l3.7-.3c.4 0 .7.1.9.3l7.6 7.6c.2.2.3.5.3.8z",fill:"currentColor"})),ge=()=>({infinitePageSize:z.infinitePageSize.get()===1/0?100:z.infinitePageSize.get(),setInfinitePageSize:z.infinitePageSize.set}),R="No Tags",ue=(t=[],i)=>[...t,i],Dt=(t,i)=>{const{tags:a}=i;return a.length===0?{...t,[R]:ue(t[R],i)}:i.tags.reduce(vt(i),t)},vt=t=>(i,a)=>({...i,[a]:ue(i[a],t)}),Ct=t=>{const i=t.reduce(Dt,{});return Object.entries(i)},St=t=>{let i,a=0;const n=t.length;for(;a<n;a++){const[s]=t[a];if(s===R){i=a;break}}return typeof i>"u"?t.sort(([s],[o])=>s>o?0:-1):[...t.filter(([s])=>s!==R).sort(([s],[o])=>s>o?0:-1),t[i]]},Pt=w($,{label:"StyledTagHeaderRow"})(({theme:t})=>({"& td":{borderBottom:"none",borderTop:"none",padding:`${t.spacing(1.25)} 0 2px`},backgroundColor:"transparent !important",height:"auto"})),Y=w(M,{label:"StyledTagHeader"})(({theme:t})=>({marginBottom:4,marginLeft:t.spacing()})),me=w("div",{label:"StyledControlHeader",shouldForwardProp:oe(["isGroupedByTag"])})(({isGroupedByTag:t,theme:i})=>({alignItems:"center",backgroundColor:i.bg.tableHeader,display:"flex",height:46,justifyContent:"flex-end",marginBottom:t?i.spacing(4):0})),G=w(ve,{label:"StyledToggleButton",shouldForwardProp:oe(["isActive"])})(({isActive:t,theme:i})=>({"&.Mui-disabled":{display:"none"},"&:focus":{outline:"1px dotted #999"},"&:hover":{backgroundColor:i.palette.grey[300],color:t?i.palette.primary.main:i.palette.grey[600]},borderRadius:"100%",color:t?i.palette.primary.main:i.palette.grey[400],padding:10})),Tt=c.memo(t=>{const{isGroupedByTag:i,isLargeAccount:a,toggleGroupByTag:n}=t;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"visually-hidden",id:"groupByDescription",children:i?"group by tag is currently enabled":"group by tag is currently disabled"}),e.jsx(_,{placement:"top-end",title:`${i?"Ungroup":"Group"} by tag`,children:e.jsx(G,{"aria-describedby":"groupByDescription","aria-label":"Toggle group by tag",disableRipple:!0,disabled:a,isActive:i,onClick:n,size:"large",children:e.jsx(q,{})})})]})}),Ot=t=>{const i=Ce(),{handleOrderChange:a,isVLAN:n,linodeViewPreference:s,linodesAreGrouped:o,order:r,orderBy:g,toggleGroupLinodes:u,toggleLinodeView:d}=t,p=l=>l.toLowerCase()===g.toLowerCase();return e.jsx(dt,{"data-qa-table-head":!0,role:"rowgroup",children:e.jsxs($,{children:[e.jsx(A,{active:p("label"),"data-qa-sort-label":r,direction:r,handleClick:a,label:"label",sx:{...i.applyTableHeaderStyles,[i.breakpoints.down("lg")]:{width:"20%"},width:"24%"},children:"Label"}),e.jsx(A,{active:p("_statusPriority"),direction:r,handleClick:a,label:"_statusPriority",noWrap:!0,sx:{...i.applyTableHeaderStyles,[i.breakpoints.down("md")]:{width:"25%"},[i.breakpoints.only("md")]:{width:"27%"},width:"20%"},children:"Status"}),n?e.jsx(A,{active:p("_vlanIP"),direction:r,handleClick:a,label:"_vlanIP",children:"VLAN IP"}):null,n?null:e.jsxs(e.Fragment,{children:[e.jsxs(H,{smDown:!0,children:[e.jsx(A,{active:p("type"),direction:r,handleClick:a,label:"type",sx:{...i.applyTableHeaderStyles,[i.breakpoints.only("sm")]:{width:"15%"},width:"14%"},children:"Plan"}),e.jsx(A,{active:p("ipv4[0]"),direction:r,handleClick:a,label:"ipv4[0]",noWrap:!0,children:"Public IP Address"}),e.jsx(H,{lgDown:!0,children:e.jsx(A,{active:p("region"),"data-qa-sort-region":r,direction:r,handleClick:a,label:"region",sx:{...i.applyTableHeaderStyles,[i.breakpoints.down("sm")]:{width:"18%"},width:"14%"},children:"Region"})})]}),e.jsx(H,{lgDown:!0,children:e.jsx(A,{active:p("backups:last_successful"),direction:r,handleClick:a,label:"backups:last_successful",noWrap:!0,sx:{...i.applyTableHeaderStyles,[i.breakpoints.down("sm")]:{width:"18%"},width:"14%"},children:"Last Backup"})})]}),e.jsx(V,{sx:{padding:"0 !important"},children:e.jsxs("div",{style:{backgroundColor:i.bg.tableHeader,display:"flex",justifyContent:"flex-end"},children:[e.jsxs("div",{className:"visually-hidden",id:"displayViewDescription",children:["Currently in ",s," view"]}),e.jsx(_,{placement:"top",title:"Summary view",children:e.jsx(G,{"aria-describedby":"displayViewDescription","aria-label":"Toggle display",disableRipple:!0,isActive:s==="grid",onClick:d,size:"large",children:e.jsx(U,{})})}),e.jsx(Tt,{isGroupedByTag:o,toggleGroupByTag:u})]})})]})})},he=t=>{const{dataLength:i,handleOrderChange:a,isVLAN:n,linodeViewPreference:s,linodesAreGrouped:o,order:r,orderBy:g,tableProps:u,toggleGroupLinodes:d,toggleLinodeView:p}=t;return e.jsx(x,{className:"m0",container:!0,spacing:0,style:{width:"100%"},children:e.jsx(x,{className:"p0",xs:12,children:e.jsxs(lt,{"aria-label":"List of Linodes",colCount:5,rowCount:i,stickyHeader:!0,...u,children:[e.jsx(Ot,{handleOrderChange:a,isVLAN:n,linodeViewPreference:s,linodesAreGrouped:o,order:r,orderBy:g,toggleGroupLinodes:d,toggleLinodeView:p}),t.children]})})})},Bt=t=>{const{component:i,data:a,display:n,handleOrderChange:s,isVLAN:o,linodeViewPreference:r,linodesAreGrouped:g,order:u,orderBy:d,toggleGroupLinodes:p,toggleLinodeView:l,...m}=t,y=a.length,h=Se(St,Ct)(a),f={dataLength:y,handleOrderChange:s,isVLAN:o,order:u,orderBy:d,someLinodesHaveMaintenance:t.someLinodesHaveMaintenance},{infinitePageSize:D,setInfinitePageSize:S}=ge(),P=a.reduce((b,T)=>(T.maintenance&&b++,b),0);return n==="grid"?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"px0",xs:12,children:e.jsxs(me,{isGroupedByTag:g,children:[e.jsxs("div",{className:"visually-hidden",id:"displayViewDescription",children:["Currently in ",r," view"]}),e.jsx(_,{placement:"top",title:"List view",children:e.jsx(G,{"aria-describedby":"displayViewDescription","aria-label":"Toggle display",disableRipple:!0,isActive:g,onClick:l,size:"large",children:e.jsx(U,{})})}),e.jsx("div",{className:"visually-hidden",id:"groupByDescription",children:g?"group by tag is currently enabled":"group by tag is currently disabled"}),e.jsx(_,{placement:"top-end",title:"Ungroup by tag",children:e.jsx(G,{"aria-describedby":"groupByDescription","aria-label":"Toggle group by tag",disableRipple:!0,isActive:g,onClick:p,size:"large",children:e.jsx(q,{})})})]})}),h.length===0?e.jsx(M,{style:{textAlign:"center"},children:"No items to display."}):null,h.map(([b,T])=>e.jsxs(re,{"data-qa-tag-header":b,sx:{marginBottom:2},children:[e.jsx(x,{container:!0,children:e.jsx(x,{xs:12,children:e.jsx(Y,{variant:"h2",children:b})})}),e.jsx(E,{pageSize:P>D?le(P):D,data:T,pageSizeSetter:S,children:({count:j,data:L,handlePageChange:k,handlePageSizeChange:v,page:O,pageSize:C})=>{const I={...m,count:j,data:L,handleOrderChange:s,handlePageChange:k,handlePageSizeChange:v,isVLAN:o,order:u,orderBy:d,page:O,pageSize:C};return e.jsxs(c.Fragment,{children:[e.jsx(i,{...I}),e.jsx(x,{xs:12,children:e.jsx(N,{count:j,eventCategory:"linodes landing",handlePageChange:k,handleSizeChange:v,page:O,pageSize:C,showAll:!0})})]})}})]},b))]}):n==="list"?e.jsxs(he,{...f,linodeViewPreference:"list",linodesAreGrouped:!0,toggleGroupLinodes:p,toggleLinodeView:l,children:[h.length===0?e.jsx(W,{children:e.jsx(de,{colSpan:12})}):null,h.map(([b,T])=>e.jsx(c.Fragment,{children:e.jsx(E,{data:T,pageSize:D,pageSizeSetter:S,children:({count:j,data:L,handlePageChange:k,handlePageSizeChange:v,page:O,pageSize:C})=>{const I={...m,count:j,data:L,handleOrderChange:s,handlePageChange:k,handlePageSizeChange:v,isVLAN:o,order:u,orderBy:d,page:O,pageSize:C};return e.jsxs(W,{"data-qa-tag-header":b,children:[e.jsx(Pt,{children:e.jsx(V,{colSpan:7,children:e.jsx(Y,{variant:"h2",children:b})})}),e.jsx(i,{...I}),j>ot&&e.jsx($,{children:e.jsx(V,{colSpan:7,sx:{padding:0},children:e.jsx(N,{count:j,eventCategory:"linodes landing",handlePageChange:k,handleSizeChange:v,page:O,pageSize:C,showAll:!1})})})]})}})},b))]}):null},At=c.memo(t=>{const{component:i,data:a,display:n,handleOrderChange:s,linodeViewPreference:o,linodesAreGrouped:r,order:g,orderBy:u,toggleGroupLinodes:d,toggleLinodeView:p,updatePageUrl:l,...m}=t,{infinitePageSize:y,setInfinitePageSize:h}=ge(),f=c.useMemo(()=>a.reduce((L,k)=>(k.maintenance&&L++,L),0),[JSON.stringify(a)]),D=a.length,S=f>y?le(f):y,P=Math.ceil(D/S),{search:b}=Pe(),T=Te(b),j=Math.min(Number(T.page),P)||1;return e.jsx(E,{data:a,page:j,pageSize:S,pageSizeSetter:h,updatePageUrl:l,children:({data:L,handlePageChange:k,handlePageSizeChange:v,page:O,pageSize:C})=>{const I={...m,count:D,data:L,handlePageChange:k,handlePageSizeChange:v,page:O,pageSize:C},be={dataLength:L.length,handleOrderChange:s,order:g,orderBy:u,someLinodesHaveMaintenance:t.someLinodesHaveMaintenance};return e.jsxs(c.Fragment,{children:[n==="list"&&e.jsx(he,{...be,linodeViewPreference:o,linodesAreGrouped:r,toggleGroupLinodes:d,toggleLinodeView:p,children:e.jsx(W,{children:e.jsx(i,{showHead:!0,...I})})}),n==="grid"&&e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"px0",xs:12,children:e.jsxs(me,{isGroupedByTag:r,children:[e.jsxs("div",{className:"visually-hidden",id:"displayViewDescription",children:["Currently in ",o," view"]}),e.jsx(_,{placement:"top",title:"List view",children:e.jsx(G,{"aria-describedby":"displayViewDescription","aria-label":"Toggle display",disableRipple:!0,isActive:!0,onClick:p,size:"large",children:e.jsx(U,{})})}),e.jsx("div",{className:"visually-hidden",id:"groupByDescription",children:r?"group by tag is currently enabled":"group by tag is currently disabled"}),e.jsx(_,{placement:"top-end",title:"Group by tag",children:e.jsx(G,{"aria-describedby":"groupByDescription","aria-label":"Toggle group by tag",disableRipple:!0,isActive:r,onClick:d,size:"large",children:e.jsx(q,{})})})]})}),e.jsx(i,{showHead:!0,...I})]}),e.jsx(x,{xs:12,children:e.jsx(N,{count:a.length,eventCategory:"linodes landing",handlePageChange:k,handleSizeChange:v,page:j,pageSize:C,showAll:!1})})]})}})}),It=w(x,{label:"StyledWrapperGrid"})({marginLeft:0,marginRight:0,width:"100%"}),_t=w(x,{label:"StyledLinkContainerGrid"})(({theme:t})=>({"&.MuiGrid-item":{paddingRight:0},marginTop:t.spacing(.5)})),Gt=()=>{const t=c.useRef(),i=pt(),{data:a,refetch:n}=ne({},{},!1),{data:s}=gt({},{status:{"+or":["pending, started"]}}),o=async()=>{await n(),t.current.link.click()},r=[{key:"id",label:"id"},{key:"label",label:"label"},{key:"image",label:"image"},{key:"region",label:"region"},{key:"ipv4",label:"ipv4"},{key:"ipv6",label:"ipv6"},{key:"status",label:"status"},{key:"type",label:"type"},{key:"updated",label:"updated"},{key:"created",label:"created"},{key:"specs.disk",label:"disk"},{key:"specs.gpus",label:"gpus"},{key:"specs.memory",label:"memory"},{key:"specs.transfer",label:"transfer"},{key:"specs.vcpus",label:"vcpus"},{key:"tags",label:"tags"},{key:"hypervisor",label:"hypervisor"},{key:"host_uuid",label:"host_uuid"},{key:"watchdog_enabled",label:"watchdog_enabled"},{key:"backups.enabled",label:"backups_enabled"},{key:"backups.last_successful",label:"last_backup"},{key:"maintenance",label:"maintenance"}],g=(a==null?void 0:a.map(u=>{const d=(s==null?void 0:s.find(p=>p.entity.id===u.id&&p.entity.type==="linode"))??null;return{...u,maintenance:d}}))??[];return e.jsx(ct,{csvRef:t,data:g,filename:`linodes-${i}.csv`,headers:r,onClick:o})},Rt=t=>c.createElement("svg",{width:"17px",height:"18px",viewBox:"0 0 17 18",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t},c.createElement("title",null,"Fill 1"),c.createElement("g",{id:"Final-Options",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("g",{id:"Linodes-landing-22",transform:"translate(-525.000000, -670.000000)",stroke:"currentColor"},c.createElement("g",{id:"Group-14",transform:"translate(525.500000, 670.000000)"},c.createElement("path",{d:"M12,5 C12,2.23857625 10.209139,0.5 8,0.5 C5.790861,0.5 4,2.23857625 4,5 M0,17.5 L16,17.5 L16,4.5 L0,4.5 L0,17.5 Z",id:"Fill-1"}))))),Mt="Linodes landing page empty",zt={action:"Click:link",category:Mt},Ht=[{text:"Wordpress",to:"/linodes/create?type=One-Click&appID=401697&utm_source=marketplace&utm_medium=website&utm_campaign=WordPress"},{text:"Harbor",to:"/linodes/create?type=One-Click&appID=912262&utm_source=marketplace&utm_medium=website&utm_campaign=Harbor"},{text:"cPanel",to:"/linodes/create?type=One-Click&appID=595742&utm_source=marketplace&utm_medium=website&utm_campaign=cPanel"},{text:"Postgres Cluster",to:"/linodes/create?type=One-Click&appID=1068726&utm_source=marketplace&utm_medium=website&utm_campaign=Postgres_Cluster"},{text:"Prometheus & Grafana",to:"/linodes/create?type=One-Click&appID=985364&utm_source=marketplace&utm_medium=website&utm_campaign=Prometheus_Grafana"},{text:"Kali",to:"/linodes/create?type=One-Click&appID=1017300&utm_source=marketplace&utm_medium=website&utm_campaign=Kali"}],Ft=t=>{const{text:i,to:a}=t;return e.jsxs(Wt,{onClick:ce(zt,i),to:a,children:[i,e.jsx(Vt,{children:e.jsx(pe,{})})]})},Et=Ht.map(t=>c.createElement(Ft,{...t,key:t.to})),Nt=()=>e.jsx($t,{children:Et}),Vt=w("div",{label:"StyledAppLinkDiv"})(({theme:t})=>({alignItems:"center",aspectRatio:"1 / 1",borderLeft:`1px solid ${t.name==="dark"?"#3a3f46":t.color.border3}`,color:t.name==="dark"?t.textColors.linkActiveLight:t.palette.primary.main,display:"flex",height:"100%",justifyContent:"center"})),Wt=w(Oe,{label:"StyledLink"})(({theme:t})=>({"&:focus":{textDecoration:"none"},"&:hover":{textDecoration:"none"},alignItems:"center",backgroundColor:t.name==="dark"?t.bg.primaryNavPaper:t.bg.offWhite,border:`1px solid ${t.name==="dark"?"#3a3f46":t.color.border3}`,color:t.palette.text.primary,display:"flex",fontFamily:t.font.bold,fontSize:"0.875rem",gridColumn:"span 1",height:t.spacing(4.75),justifyContent:"space-between",maxWidth:t.spacing(20),paddingLeft:t.spacing()})),$t=w("div",{label:"StyledAppSectionDiv"})(({theme:t})=>({columnGap:t.spacing(3),display:"grid",gridAutoFlow:"row",gridTemplateColumns:`repeat(2, ${t.spacing(20)})`,marginBottom:t.spacing(2),marginTop:t.spacing(2),rowGap:t.spacing()})),Ut={description:"Host your websites, applications, or any other Cloud-based workloads on a scalable and reliable platform.",subtitle:"Cloud-based virtual machines",title:"Linodes"},qt={links:[{text:"Create a Compute Instance",to:"https://www.linode.com/docs/guides/creating-a-compute-instance/"},{text:"Getting Started with Linode Compute Instances",to:"https://www.linode.com/docs/guides/getting-started/"},{text:"Understanding Billing and Payment",to:"https://www.linode.com/docs/guides/understanding-billing-and-payments/"},{text:"Hosting a Website or Application on Linode",to:"https://www.linode.com/docs/guides/set-up-web-server-host-website/"}],moreInfo:{text:ut,to:mt},title:"Getting Started Guides"},Kt={links:[{external:!0,text:"Linode Getting Started Guide",to:"https://www.youtube.com/watch?v=KEK-ZxrGxMA"},{external:!0,text:"Common Linux Commands",to:"https://www.youtube.com/watch?v=AVXYq8aL47Q"},{external:!0,text:"Copying Files to a Compute Instance",to:"https://www.youtube.com/watch?v=lMC5VNoZFhg"},{external:!0,text:"How to use SSH",to:"https://www.youtube.com/watch?v=ZVMckBHd7WA&list=PLTnRtjQN5ieb4XyvC9OUhp7nxzBENgCxJ&index=2"}],moreInfo:{text:ht,to:yt},title:"Video Playlist"},F={action:"Click:link",category:"Linodes landing page empty"},ee="See all Marketplace apps",Qt=()=>{const{push:t}=Be();return e.jsx(bt,{CustomResource:()=>e.jsx(xt,{MoreLink:i=>e.jsxs(wt,{onClick:ce(F,ee),to:"/linodes/create?type=One-Click",...i,children:[ee,e.jsx("span",{style:{left:2,position:"relative",top:4},children:e.jsx(pe,{})})]}),icon:e.jsx(Rt,{}),title:"Deploy an App",children:e.jsx(Nt,{})}),buttonProps:[{children:"Create Linode",onClick:()=>{t("/linodes/create"),Ae({action:"Click:button",category:F.category,label:"Create Linode"})}}],descriptionMaxWidth:500,gettingStartedGuidesData:qt,headers:Ut,icon:Ie,linkAnalyticsEvent:F,showTransferDisplay:!0,wide:!0,youtubeLinkData:Kt})},te=t=>{const{data:i,openDialog:a,openPowerActionDialog:n}=t;return i.length===0?e.jsx(de,{colSpan:12}):e.jsx(e.Fragment,{children:i.map((s,o)=>e.jsx(Je,{handlers:{onOpenDeleteDialog:()=>a("delete",s.id,s.label),onOpenMigrateDialog:()=>a("migrate",s.id,s.label),onOpenPowerDialog:r=>n(r,s.id,s.label,[]),onOpenRebuildDialog:()=>a("rebuild",s.id,s.label),onOpenRescueDialog:()=>a("rescue",s.id,s.label),onOpenResizeDialog:()=>a("resize",s.id,s.label)},alerts:s.alerts,backups:s.backups,created:s.created,group:s.group,hypervisor:s.hypervisor,id:s.id,image:s.image,ipv4:s.ipv4,ipv6:s.ipv6||"",label:s.label,region:s.region,specs:s.specs,status:s.status,tags:s.tags,type:s.type,updated:s.updated,watchdog_enabled:s.watchdog_enabled,maintenance:s.maintenance},`linode-row-${o}`))})};class Zt extends c.Component{constructor(){super(...arguments);B(this,"changeView",a=>{ze(ye,a);const{history:n,location:s}=this.props,o=new URLSearchParams(s.search);o.set("view",a),n.push(`?${o.toString()}`)});B(this,"closeDialogs",()=>{this.setState({deleteDialogOpen:!1,enableBackupsDialogOpen:!1,linodeMigrateOpen:!1,linodeResizeOpen:!1,powerDialogOpen:!1,rebuildDialogOpen:!1,rescueDialogOpen:!1})});B(this,"openDialog",(a,n,s)=>{switch(a){case"delete":this.setState({deleteDialogOpen:!0});break;case"resize":this.setState({linodeResizeOpen:!0});break;case"migrate":this.setState({linodeMigrateOpen:!0});break;case"rebuild":this.setState({rebuildDialogOpen:!0});break;case"rescue":this.setState({rescueDialogOpen:!0});break;case"enable_backups":this.setState({enableBackupsDialogOpen:!0});break}this.setState({selectedLinodeID:n,selectedLinodeLabel:s})});B(this,"openPowerDialog",(a,n,s,o)=>{this.setState({powerDialogAction:a,powerDialogOpen:!0,selectedLinodeConfigs:o,selectedLinodeID:n,selectedLinodeLabel:s})});B(this,"state",{deleteDialogOpen:!1,enableBackupsDialogOpen:!1,groupByTag:!1,linodeMigrateOpen:!1,linodeResizeOpen:!1,powerDialogOpen:!1,rebuildDialogOpen:!1,rescueDialogOpen:!1});B(this,"updatePageUrl",a=>{this.props.history.push(`?page=${a}`)})}render(){var d;const{linodesData:a,linodesInTransition:n,linodesRequestError:s,linodesRequestLoading:o}=this.props,r=new URLSearchParams(this.props.location.search),g=r.has("view")&&["grid","list"].includes(r.get("view"))?r.get("view"):void 0,u={openDialog:this.openDialog,openPowerActionDialog:this.openPowerDialog,someLinodesHaveMaintenance:this.props.someLinodesHaveScheduledMaintenance};if(s){let p=((d=s==null?void 0:s[0])==null?void 0:d.reason)??"Error loading Linodes";return typeof p=="string"&&p.toLowerCase()==="this linode has been suspended"&&(p=e.jsxs(c.Fragment,{children:["One or more of your Linodes is suspended. Please"," ",e.jsx(_e,{to:"/support/tickets",children:"open a support ticket "}),"if you have questions."]})),e.jsxs(c.Fragment,{children:[e.jsx(Q,{segment:"Linodes"}),e.jsx(Ge,{errorText:p})]})}return o?e.jsx(Re,{}):this.props.linodesData.length===0?e.jsxs(e.Fragment,{children:[e.jsx(Z,{bannerLocation:"Linodes"}),e.jsx(Qt,{})]}):e.jsxs(c.Fragment,{children:[e.jsx(Ye,{linodeId:this.state.selectedLinodeID,onClose:this.closeDialogs,open:this.state.linodeResizeOpen}),e.jsx(et,{linodeId:this.state.selectedLinodeID??-1,onClose:this.closeDialogs,open:this.state.linodeMigrateOpen}),e.jsx(tt,{linodeId:this.state.selectedLinodeID??-1,onClose:this.closeDialogs,open:this.state.rebuildDialogOpen}),e.jsx(it,{linodeId:this.state.selectedLinodeID??-1,onClose:this.closeDialogs,open:this.state.rescueDialogOpen}),e.jsx(st,{linodeId:this.state.selectedLinodeID??-1,onClose:this.closeDialogs,open:this.state.enableBackupsDialogOpen}),this.props.someLinodesHaveScheduledMaintenance&&e.jsx(Ue,{}),e.jsx(Q,{segment:"Linodes"}),e.jsx(Z,{bannerLocation:"Linodes"}),e.jsx(X,{preferenceKey:"linodes_group_by_tag",preferenceOptions:[!1,!0],toggleCallbackFn:Xt,children:({preference:p,togglePreference:l})=>e.jsx(X,{preferenceKey:"linodes_view_style",preferenceOptions:["list","grid"],toggleCallbackFn:this.changeView,value:g,children:({preference:m,togglePreference:y})=>e.jsxs(c.Fragment,{children:[e.jsxs(c.Fragment,{children:[e.jsx(kt,{}),this.props.LandingHeader?this.props.LandingHeader:e.jsx("div",{children:e.jsx($e,{onButtonClick:()=>this.props.history.push("/linodes/create"),docsLink:"https://www.linode.com/docs/platform/billing-and-support/linode-beginners-guide/",entity:"Linode",title:"Linodes"})})]}),e.jsx(qe,{data:(a??[]).map(h=>{let f=h.status;return h.maintenance?f="maintenance":n.has(h.id)&&(f="busy"),{...h,_statusPriority:nt(f),displayStatus:h.maintenance?"maintenance":h.status}}),orderBy:this.props.someLinodesHaveScheduledMaintenance?"_statusPriority":"label",order:"asc",preferenceKey:"linodes-landing",children:({data:h,handleOrderChange:f,order:D,orderBy:S})=>{const P={...u,data:h,handleOrderChange:f,order:D,orderBy:S};return p?e.jsx(Bt,{...P,component:m==="grid"?J:te,display:m,linodeViewPreference:m,linodesAreGrouped:!0,toggleGroupLinodes:l,toggleLinodeView:y}):e.jsx(At,{...P,component:m==="grid"?J:te,display:m,linodeViewPreference:m,linodesAreGrouped:!1,toggleGroupLinodes:l,toggleLinodeView:y,updatePageUrl:this.updatePageUrl})}}),e.jsx(It,{container:!0,justifyContent:"flex-end",children:e.jsx(_t,{children:e.jsx(Gt,{})})})]})})}),e.jsx(Me,{}),!!this.state.selectedLinodeID&&!!this.state.selectedLinodeLabel&&e.jsxs(c.Fragment,{children:[e.jsx(rt,{action:this.state.powerDialogAction??"Power On",isOpen:this.state.powerDialogOpen,linodeId:this.state.selectedLinodeID,onClose:this.closeDialogs}),e.jsx(at,{linodeId:this.state.selectedLinodeID,onClose:this.closeDialogs,open:this.state.deleteDialogOpen})]})]})}}const ye="linodes landing",Xt=t=>{He(ye,t)},Jt=t=>({linodesInTransition:Ne(t.events.events)}),Yt=Fe(Jt,void 0),ei=Ee(Ve,Yt,We,Ke),as=ei(Zt);export{as as default,ei as enhanced};
