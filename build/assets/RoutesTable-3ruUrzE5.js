import{au as Se,av as re,aw as ce,lV as fe,lW as we,lX as De,lY as Pe,lZ as Le,iL as Ie,s as Z,B as v,bD as je,j as e,W as D,aW as Fe,cx as Be,af as ve,ag as ee,iT as Ee,ad as ne,bB as V,d0 as le,bJ as Me,aq as $e,bt as Ae,cn as Ve,eM as Oe,r as B,T as $,a0 as F,$ as Ne,bN as Ue,a4 as ze,bC as He,l_ as Qe,l$ as qe,b as We,C as Ge}from"./index-Eksrs3uK.js";import{A as Re,L as Ye}from"./ActionMenu-4CPisA_2.js";import{C as Ke}from"./CollapsibleTable-0WYTbtYD.js";import{I as Xe}from"./InlineMenuAction-d5mRENST.js";import{P as Je}from"./PaginationFooter-NHWf7fW2.js";import{a as A,T as Ze}from"./TableRow-phXfWUGW.js";import{T as et}from"./TableRowEmpty-aXmC67-Z.js";import{T as ae}from"./TableSortCell-hcsagFzN.js";import{u as tt}from"./useOrder-rsUMHEuj.js";import{u as at}from"./usePagination-Sxr0Tlb7.js";import{Q as O}from"./loadbalancers-xfUXrZkQ.js";import{S as st,P as ot,D as nt,C as lt}from"./drag-indicator-1t7mhJe7.js";import{T as it}from"./TextTooltip-SPU6hUyt.js";import{m as ue,a as ye,d as he,i as pe,b as rt,s as se,R as L,c as oe,e as ct,f as me,t as X,h as xe,j as dt}from"./utils-d72dx4mb.js";import{u as Ce,y as ut,g as ge}from"./formik.esm-Kap5lsIh.js";import{D as Te}from"./Drawer-A9yKjC3Z.js";import{F as ht}from"./FormLabel-2wEwBKx7.js";import{R as be}from"./Radio-HudVgwMW.js";import{R as pt}from"./RadioGroup-zpRjMzXK.js";import{g as ke}from"./formikErrorUtils-jhqfCjwU.js";import{A as J}from"./Autocomplete-XvrzKoAo.js";import{L as mt}from"./LinkButton-O1af9aD7.js";import{T as xt}from"./Toggle-AbahDP9J.js";import{u as gt}from"./serviceTargets-sfLGvdjG.js";import{L as bt}from"./ListItem-joIHQeyv.js";const _t=(s,o,i)=>Se([O,"loadbalancer",s,"routes","paginated",o,i],()=>fe(s,o,i),{keepPreviousData:!0}),na=s=>{const o=re();return ce(i=>we(s,i),{onSuccess(){o.invalidateQueries([O,"loadbalancer",s,"routes"])}})},te=(s,o)=>{const i=re();return ce(u=>Pe(s,o,u),{onError(){i.invalidateQueries([O,"loadbalancer",s,"routes"])},onMutate(u){De([O,"loadbalancer",s,"routes","paginated"],o,u,i)}})},ft=(s,o)=>{const i=re();return ce(()=>Le(s,o),{onSuccess(){i.invalidateQueries([O,"loadbalancer",s,"routes"])}})},la=(s,o={})=>Ie([O,"loadbalancer",s,"routes","infinite",o],({pageParam:i})=>fe(s,{page:i,page_size:25},o),{getNextPageParam:({page:i,pages:u})=>{if(i!==u)return i+1}}),jt=Z(st,{label:"StyledDragIndicator"})(({theme:s})=>({color:s.color.grey8,marginRight:s.spacing(1.5),position:"relative",top:2})),vt=Z("ul",{label:"StyledUl"})(({theme:s})=>({backgroundColor:s.color.border3,listStyle:"none",margin:0,paddingLeft:0,width:"100%"})),ie={alignItems:"center",display:"flex",width:"100%"},Rt=Z(v,{label:"StyledInnerBox"})(({theme:s})=>({backgroundColor:s.bg.tableHeader,color:s.textColors.tableHeader,fontFamily:s.font.bold,fontSize:".875rem",height:"46px"})),yt=Z(v,{label:"StyledRuleBox"})(({theme:s})=>({borderBottom:`1px solid ${s.borderColors.borderTable}`,color:s.textColors.tableStatic,fontSize:"0.875rem",margin:0,...ie})),S={padding:"0 8px"},Ct="Some screen readers may require you to enter focus mode to interact with Loadbalancer rule list items. In focus mode, press spacebar to begin a drag or tab to access item actions.",Tt=(s,o)=>s===0?"First":s===o-1?"Last":s+1,kt=s=>{const{index:o,onDeleteRule:i,onEditRule:u,onMoveDown:a,onMoveUp:h,rule:r,totalRules:p}=s,m=je(c=>c.breakpoints.down("sm"));return e.jsx(ot,{draggableId:String(o),index:o,children:c=>e.jsx("li",{"aria-label":`Rule ${o}`,"aria-roledescription":Ct,"aria-selected":!1,ref:c.innerRef,role:"option",...c.draggableProps,...c.dragHandleProps,children:e.jsxs(yt,{sx:d=>({backgroundColor:d.bg.bgPaper}),children:[e.jsxs(v,{sx:{...S,overflowWrap:"break-word",paddingLeft:"8px",width:m?"50%":"15%"},children:[e.jsx(jt,{"aria-label":"Drag indicator icon"}),Tt(o,p)]}),e.jsx(v,{sx:{...S,width:m?"45%":"20%"},"aria-label":`Match value: ${r.match_condition.match_value}`,children:r.match_condition.match_value?r.match_condition.match_value:"None"}),e.jsx(D,{smDown:!0,children:e.jsx(v,{"aria-label":`Match Field: ${ue[r.match_condition.match_field]}`,sx:{...S,width:"20%"},children:ue[r.match_condition.match_field]})}),e.jsx(D,{smDown:!0,children:e.jsx(v,{sx:{...S,overflowWrap:"break-word",width:"20%"},"aria-label":`Service Targets: ${r.service_targets.length}`,children:r.service_targets.length>0?e.jsx(it,{tooltipText:e.jsx(e.Fragment,{children:r.service_targets.map(({label:d})=>e.jsx("div",{children:d},d))}),displayText:String(r.service_targets.length)}):"None"})}),e.jsx(D,{smDown:!0,children:e.jsx(v,{"aria-label":`Session Stickiness: ${r.match_condition.session_stickiness_cookie&&r.match_condition.session_stickiness_ttl?"Yes":"No"}`,sx:{...S,overflowWrap:"break-word",width:"20%"},children:r.match_condition.session_stickiness_cookie||r.match_condition.session_stickiness_ttl?"Yes":"No"})}),e.jsx(v,{sx:{display:"flex",flexDirection:"row-reverse",width:"5%"},"aria-label":"Action Menu",children:e.jsx(Re,{actionsList:[{onClick:u,title:"Edit"},{disabled:o===0,onClick:h,title:"Move Up"},{disabled:o===p-1,onClick:a,title:"Move Down"},{onClick:i,title:"Delete"}],ariaLabel:`Action Menu for Rule ${o}`})})]},o)})},o)},St=s=>{const{loadbalancerId:o,onDeleteRule:i,onEditRule:u,route:a}=s,{label:h,protocol:r,rules:p}=a,m=Fe(),{enqueueSnackbar:c}=Be(),{mutateAsync:d}=te(o,(a==null?void 0:a.id)??-1),R=async(t,g)=>{const j=[...p],[b]=j.splice(t,1);j.splice(g,0,b);try{await d({label:h,protocol:r,rules:j})}catch(_){c(_==null?void 0:_[0].reason,{variant:"error"})}},T=t=>{R(t,t-1)},y=t=>{R(t,t+1)},x=t=>{!t.destination||t.destination.index===t.source.index||t.destination&&R(t.source.index,t.destination.index)},w=je(m.breakpoints.down("sm"));return e.jsxs(e.Fragment,{children:[e.jsx(v,{"aria-label":"Rules List",sx:{margin:0,width:"100%"},children:e.jsxs(Rt,{"aria-label":" Rules List Headers",sx:ie,tabIndex:0,children:[e.jsx(v,{sx:{...S,paddingLeft:"27px",width:w?"50%":"15%"},children:"Execution"}),e.jsx(v,{sx:{...S,width:w?"45%":"20%"},children:"Match Value"}),e.jsxs(D,{smDown:!0,children:[e.jsx(v,{sx:{...S,width:"20%"},children:"Match Type"}),e.jsx(v,{sx:{...S,width:"20%"},children:"Service Targets"}),e.jsx(v,{sx:{...S,width:"20%"},children:"Session Stickiness"})]}),e.jsx(v,{sx:{...S,width:"5%"}})]})}),e.jsx(v,{sx:{...ie,flexDirection:"column"},children:e.jsx(nt,{onDragEnd:x,children:e.jsx(lt,{droppableId:"droppable",children:t=>e.jsxs(vt,{...t.droppableProps,ref:t.innerRef,children:[p.length>0?p.map((g,j)=>e.jsx(kt,{index:j,onDeleteRule:()=>i(j),onEditRule:()=>u(j),onMoveDown:()=>y(j),onMoveUp:()=>T(j),rule:g,totalRules:p.length},`rule-${j}`)):e.jsx(v,{sx:g=>({bgcolor:g.bg.bgPaper,display:"flex",justifyContent:"center",padding:1.5}),children:"No Rules"}),t.placeholder]})})})})]})},wt=s=>{var c;const{loadbalancerId:o,onClose:i,open:u,route:a}=s,{error:h,isLoading:r,mutateAsync:p}=ft(o,(a==null?void 0:a.id)??-1),m=async()=>{await p(),i()};return e.jsx(ve,{actions:e.jsx(ee,{primaryButtonProps:{label:"Delete",loading:r,onClick:m},secondaryButtonProps:{label:"Cancel",onClick:i}}),error:(c=h==null?void 0:h[0])==null?void 0:c.reason,onClose:i,open:u,title:`Delete Route ${a==null?void 0:a.label}?`,children:"Are you sure you want to delete this route?"})},Dt=s=>{var d;const{loadbalancerId:o,onClose:i,open:u,route:a,ruleIndex:h}=s,{error:r,isLoading:p,mutateAsync:m}=te(o,(a==null?void 0:a.id)??-1),c=async()=>{if(!a||h===void 0)return;const R=[...a.rules];R.splice(h,1);const T=R.map(ye);await m({label:a.label,protocol:a.protocol,rules:T}),i()};return e.jsx(ve,{actions:e.jsx(ee,{primaryButtonProps:{label:"Delete",loading:p,onClick:c},secondaryButtonProps:{label:"Cancel",onClick:i}}),error:(d=r==null?void 0:r[0])==null?void 0:d.reason,onClose:i,open:u,title:"Delete Rule?",children:"Are you sure you want to delete this rule?"})},Pt=s=>{var T;const{loadbalancerId:o,onClose:i,open:u,route:a}=s,{error:h,isLoading:r,mutateAsync:p,reset:m}=te(o,(a==null?void 0:a.id)??-1),c=Ce({enableReinitialize:!0,initialValues:{label:a==null?void 0:a.label,protocol:a==null?void 0:a.protocol},async onSubmit(y){try{await p(y),d()}catch(x){c.setErrors(ke(x))}},validate(y){try{return Ee.validateSync(y,{abortEarly:!1}),{}}catch(x){return ut(x)}},validateOnBlur:!1,validateOnChange:!h}),d=()=>{c.resetForm(),m(),i()},R=(T=h==null?void 0:h.find(y=>!y.field))==null?void 0:T.reason;return e.jsx(Te,{onClose:d,open:u,title:`Edit Route ${a==null?void 0:a.label}`,children:e.jsxs("form",{onSubmit:c.handleSubmit,children:[R&&e.jsx(ne,{text:R,variant:"error"}),e.jsx(V,{errorText:c.errors.label,label:"Route Label",name:"label",onChange:c.handleChange,value:c.values.label}),e.jsxs(pt,{onChange:(y,x)=>c.setFieldValue("protocol",x),value:c.values.protocol,children:[e.jsx(ht,{sx:y=>({marginTop:y.spacing(1)}),children:"Protocol"}),e.jsx(le,{control:e.jsx(be,{}),"data-qa-radio":"HTTP",label:"HTTP",value:"http"}),e.jsx(le,{control:e.jsx(be,{}),"data-qa-radio":"TCP",label:"TCP",value:"tcp"}),e.jsx(Me,{error:!0,children:c.touched.protocol&&typeof c.errors.protocol=="string"?$e(c.errors.protocol):void 0})]}),e.jsx(ee,{primaryButtonProps:{label:"Save",loading:c.isSubmitting||r,type:"submit"},secondaryButtonProps:{label:"Cancel",onClick:d}})]})})},Lt=s=>{const{errorText:o,label:i,loadbalancerId:u,onChange:a,sx:h,textFieldProps:r,value:p}=s,[m,c]=Ae.useState(""),d={};m&&(d.label={"+contains":m});const{data:R,error:T,fetchNextPage:y,hasNextPage:x,isLoading:w}=gt(u,d),t=R==null?void 0:R.pages.flatMap(b=>b.data),g=(t==null?void 0:t.find(b=>b.id===p))??null,j=b=>{const _=b.currentTarget;_.scrollTop+_.clientHeight>=_.scrollHeight&&x&&y()};return e.jsx(J,{ListboxProps:{onScroll:j},getOptionLabel:({endpoints:b,label:_,protocol:k})=>`${_} (${k.toUpperCase()} - ${Ve("endpoint","endpoints",b.length)})`,inputValue:g?g.label:m,onInputChange:(b,_,k)=>{k==="input"&&c(_)},errorText:(T==null?void 0:T[0].reason)??o,filterOptions:b=>b,label:i??"Service Target",loading:w,noMarginTop:!0,onChange:(b,_)=>a(_),options:t??[],placeholder:"Select a Service Target",sx:h,textFieldProps:r,value:g})},It=()=>{const s=[{description:"Match is on a network path.",title:"Path"},{description:"Match is based on both the name of the query and the single URL query value to match on.",title:"Query String"},{description:"Match is based on both the name of a HTTP header and its value.",title:"HTTP Header"},{description:"Match is on the request method.",title:"Method"}];return e.jsx(Oe,{children:s.map(({description:o,title:i})=>e.jsx(bt,{sx:{paddingX:.5},children:e.jsx(Ye,{primaryTypographyProps:{sx:u=>({fontFamily:u.font.bold,fontSize:"14px"})},primary:i,secondary:o,secondaryTypographyProps:{fontSize:"14px"}})},i))})},Ft=s=>{var I,H,Q,q,W,G,Y,K,N,f;const{loadbalancerId:o,onClose:i,open:u,route:a,ruleIndexToEdit:h}=s,r=h??(a==null?void 0:a.rules.length)??0,p=h!==void 0,m=(a==null?void 0:a.protocol)??"tcp",c=m==="tcp"?Qe:qe,{error:d,isLoading:R,mutateAsync:T,reset:y}=te(o,(a==null?void 0:a.id)??-1),[x,w]=B.useState(he),t=Ce({enableReinitialize:!0,initialValues:p?(a==null?void 0:a.rules[h])??pe:pe,async onSubmit(n){try{const l=(a==null?void 0:a.rules)??[],P=ye(n);p&&(l[h]=P),await T({label:a==null?void 0:a.label,protocol:a==null?void 0:a.protocol,rules:p?l:[...l,P]}),g()}catch(l){t.setErrors(ke(l,`rules[${r}].`))}},validateOnBlur:!d,validateOnChange:!d,validationSchema:c}),g=()=>{i(),t.resetForm(),y(),w(he)},j=()=>{t.setFieldValue("service_targets",[...t.values.service_targets,dt])},b=n=>{t.values.service_targets.splice(n,1),t.setFieldValue("service_targets",t.values.service_targets)},_=(n,l)=>{l?t.setFieldValue("match_condition.session_stickiness_ttl",me):(t.setFieldValue("match_condition.session_stickiness_ttl",null),t.setFieldValue("match_condition.session_stickiness_cookie",null))},k=rt(t.values),C=t.values.match_condition.session_stickiness_ttl===null?se[1]:se[0],z=d==null?void 0:d.filter(n=>!!(!n.field||(a==null?void 0:a.protocol)==="tcp"&&n.field.includes("match_condition")||(a==null?void 0:a.protocol)==="http"&&!k&&n.field.includes("match_condition.session_stickiness")||(a==null?void 0:a.protocol)==="http"&&k&&C.label==="Origin"&&n.field.includes("match_condition.session_stickiness_ttl")||!n.field.startsWith(`rules[${r}]`))).map(n=>n.reason).join(", ");return e.jsx(Te,{onClose:g,open:u,title:`${p?"Edit":"Add"} Rule`,wide:!0,children:e.jsxs("form",{onSubmit:t.handleSubmit,children:[e.jsx($,{sx:{marginBottom:2},children:L.Rule.Description[m]}),z&&e.jsx(ne,{text:z,variant:"error"}),e.jsxs(F,{spacing:2,children:[e.jsxs(F,{bgcolor:n=>n.bg.app,p:2.5,spacing:1.5,children:[e.jsx($,{variant:"h3",children:"Match Rule"}),e.jsx($,{children:L.Rule.MatchRule[(a==null?void 0:a.protocol)??"tcp"]}),(a==null?void 0:a.protocol)!=="tcp"&&e.jsxs(e.Fragment,{children:[e.jsx(V,{errorText:(I=t.touched.match_condition)!=null&&I.hostname?(H=t.errors.match_condition)==null?void 0:H.hostname:void 0,label:"Hostname",labelTooltipText:L.Rule.Hostname,name:"match_condition.hostname",onBlur:t.handleBlur,onChange:t.handleChange,optional:!0,placeholder:"www.example.com",value:t.values.match_condition.hostname}),e.jsxs(F,{direction:"row",spacing:2,children:[e.jsx(J,{errorText:(Q=t.touched.match_condition)!=null&&Q.match_field?(q=t.errors.match_condition)==null?void 0:q.match_field:void 0,onBlur:()=>t.setFieldTouched("match_condition.match_field"),onChange:(n,l)=>t.setFieldValue("match_condition.match_field",(l==null?void 0:l.value)??null),value:oe.find(n=>n.value===t.values.match_condition.match_field)??oe[0],disableClearable:!0,label:"Match Type",options:oe,sx:{minWidth:200},textFieldProps:{labelTooltipText:e.jsx(It,{})}}),e.jsx(V,{errorText:(W=t.touched.match_condition)!=null&&W.match_value?(G=t.errors.match_condition)==null?void 0:G.match_value:void 0,labelTooltipText:L.Rule.MatchValue[t.values.match_condition.match_field],placeholder:ct[t.values.match_condition.match_field],containerProps:{sx:{flexGrow:1}},label:"Match Value",name:"match_condition.match_value",onBlur:t.handleBlur,onChange:t.handleChange,value:t.values.match_condition.match_value})]}),e.jsxs(F,{alignItems:"center",direction:"row",gap:2,children:[e.jsx($,{sx:{fontStyle:"italic"},children:"Routes to"}),e.jsx(Ne,{light:!0,sx:{flexGrow:1}})]})]}),typeof t.errors.service_targets=="string"&&e.jsx(ne,{spacingBottom:12,spacingTop:16,text:t.errors.service_targets,variant:"error"}),t.values.service_targets.map((n,l)=>{var P,U,E,de;return e.jsxs(F,{direction:"row",spacing:2,children:[e.jsx(V,{InputProps:{endAdornment:e.jsx(Ue,{position:"end",children:"%"})},errorText:(U=(P=t.touched.service_targets)==null?void 0:P[l])!=null&&U.percentage?ge(t.errors,`service_targets[${l}].percentage`):void 0,hideLabel:l!==0,label:"Percent",max:100,min:0,name:`service_targets[${l}].percentage`,noMarginTop:!0,onBlur:t.handleBlur,onChange:t.handleChange,type:"number",value:t.values.service_targets[l].percentage}),e.jsx(Lt,{errorText:(de=(E=t.touched.service_targets)==null?void 0:E[l])!=null&&de.id?ge(t.errors,`service_targets[${l}].id`):void 0,onChange:M=>{t.setFieldTouched(`service_targets[${l}].id`,!0,!1),t.setFieldValue(`service_targets[${l}].id`,(M==null?void 0:M.id)??-1,!0),t.setFieldValue(`service_targets[${l}].label`,(M==null?void 0:M.label)??"",!1)},loadbalancerId:o,sx:{flexGrow:1},textFieldProps:{hideLabel:l!==0},value:t.values.service_targets[l].id}),e.jsx(ze,{sx:{height:"32px",marginTop:`${l===0?28:2}px !important`,width:"32px"},"aria-label":`Remove Service Target ${l}`,onClick:()=>b(l),children:e.jsx(He,{})})]},`${n.id}-${l}`)}),e.jsx(v,{children:e.jsx(mt,{onClick:j,children:"Add Service Target"})})]}),(a==null?void 0:a.protocol)!=="tcp"&&e.jsxs(F,{spacing:1.5,children:[e.jsx($,{variant:"h3",children:"Session Stickiness"}),e.jsx($,{children:L.Rule.Stickiness.Description}),e.jsx(le,{control:e.jsx(xt,{checked:k,onChange:_,sx:{marginLeft:-1.5}}),label:"Use Session Stickiness"}),k&&e.jsxs(e.Fragment,{children:[e.jsx(J,{onChange:(n,l)=>{t.setFieldValue("match_condition.session_stickiness_ttl",(l==null?void 0:l.label)==="Load Balancer Generated"?me:null),t.setFieldValue("match_condition.session_stickiness_cookie",(l==null?void 0:l.label)==="Load Balancer Generated"?null:"")},textFieldProps:{labelTooltipText:L.Rule.Stickiness.CookieType},disableClearable:!0,label:"Cookie type",options:se,value:C}),e.jsx(V,{errorText:(Y=t.touched.match_condition)!=null&&Y.session_stickiness_cookie?(K=t.errors.match_condition)==null?void 0:K.session_stickiness_cookie:void 0,value:t.values.match_condition.session_stickiness_cookie??"",label:"Cookie Key",labelTooltipText:L.Rule.Stickiness.Cookie,name:"match_condition.session_stickiness_cookie",onBlur:t.handleBlur,onChange:t.handleChange,placeholder:"my-cookie-name"}),C.label==="Load Balancer Generated"&&e.jsxs(F,{direction:"row",spacing:1,children:[e.jsx(V,{errorText:(N=t.touched.match_condition)!=null&&N.session_stickiness_ttl?(f=t.errors.match_condition)==null?void 0:f.session_stickiness_ttl:void 0,onChange:n=>t.setFieldValue("match_condition.session_stickiness_ttl",n.target.valueAsNumber*X[x]),value:(t.values.match_condition.session_stickiness_ttl??0)/X[x],label:"Stickiness TTL",labelTooltipText:L.Rule.Stickiness.TTL,name:"match_condition.session_stickiness_ttl",onBlur:t.handleBlur,type:"number"}),e.jsx(J,{onChange:(n,l)=>{const P=X[l.key]/X[x];if(w(l.key),t.values.match_condition.session_stickiness_ttl){const U=t.values.match_condition.session_stickiness_ttl;t.setFieldValue("match_condition.session_stickiness_ttl",U*P)}},value:xe.find(n=>n.key===x),disableClearable:!0,label:"test",options:xe,sx:{marginTop:"45px !important",minWidth:"140px"},textFieldProps:{hideLabel:!0}})]})]})]})]}),e.jsx(ee,{primaryButtonProps:{label:p?"Save":"Add Rule",loading:t.isSubmitting||R,disabled:p&&!t.dirty,type:"submit"},secondaryButtonProps:{label:"Cancel",onClick:g}})]})})},_e="loadbalancer-routes",ia=s=>{var N;const{configuredRouteIds:o,filter:i,onRemove:u}=s,{loadbalancerId:a}=We(),[h,r]=B.useState(!1),[p,m]=B.useState(!1),[c,d]=B.useState(!1),[R,T]=B.useState(!1),[y,x]=B.useState(),[w,t]=B.useState(),g=at(1,_e),{handleOrderChange:j,order:b,orderBy:_}=tt({order:"desc",orderBy:"label"},`${_e}-order`),k={"+order":b,"+order_by":_};o&&(k["+or"]=o.map(f=>({id:f})));const{data:C,isLoading:z}=_t(Number(a),{page:g.page,page_size:g.pageSize},{...k,...i}),I=(N=C==null?void 0:C.data)==null?void 0:N.find(f=>f.id===y),H=f=>{m(!0),x(f.id)},Q=(f,n)=>{m(!0),x(f.id),t(n)},q=(f,n)=>{T(!0),x(f.id),t(n)},W=f=>{r(!0),x(f.id)},G=f=>{d(!0),x(f.id)};if(z)return e.jsx(Ge,{});const Y=()=>{var f;return o&&o.length===0?[]:C!=null&&C.data?(f=C==null?void 0:C.data)==null?void 0:f.map((n,l)=>{const P=e.jsxs(e.Fragment,{children:[e.jsx(D,{mdDown:!0,children:e.jsx(A,{children:n.rules.length})}),e.jsx(D,{smDown:!0,children:e.jsx(A,{children:n.protocol.toLocaleUpperCase()})}),e.jsx(D,{xsDown:!0,children:e.jsx(A,{children:n.id})}),e.jsxs(A,{actionCell:!0,children:[e.jsx(Xe,{actionText:"Add Rule",onClick:()=>H(n)}),e.jsx(Re,{actionsList:[{onClick:()=>W(n),title:"Edit"},u?{onClick:()=>u(l),title:"Remove"}:{onClick:()=>G(n),title:"Delete"}],ariaLabel:`Action Menu for Route ${n.label}`})]})]});return{InnerTable:e.jsx(St,{loadbalancerId:Number(a),onDeleteRule:E=>q(n,E),onEditRule:E=>Q(n,E),route:n}),OuterTableCells:P,id:n.id,label:n.label}}):[]},K=e.jsxs(Ze,{children:[e.jsx(ae,{active:_==="label",direction:b,handleClick:j,label:"label",children:"Route Label"}),e.jsx(D,{mdDown:!0,children:e.jsx(A,{children:"Rules"})}),e.jsx(D,{smDown:!0,children:e.jsx(ae,{active:_==="protocol",direction:b,handleClick:j,label:"protocol",children:"Protocol"})}),e.jsx(D,{xsDown:!0,children:e.jsx(ae,{active:_==="id",direction:b,handleClick:j,label:"id",children:"ID"})}),e.jsx(A,{})]});return e.jsxs(e.Fragment,{children:[e.jsx(Ke,{TableItems:Y(),TableRowEmpty:e.jsx(et,{colSpan:5,message:"No Routes"}),TableRowHead:K}),e.jsx(Je,{count:o?o.length:(C==null?void 0:C.results)??0,handlePageChange:g.handlePageChange,handleSizeChange:g.handlePageSizeChange,page:g.page,pageSize:g.pageSize}),e.jsx(Ft,{onClose:()=>{m(!1),t(void 0)},loadbalancerId:Number(a),open:p,route:I,ruleIndexToEdit:w}),e.jsx(Pt,{loadbalancerId:Number(a),onClose:()=>r(!1),open:h,route:I}),e.jsx(wt,{loadbalancerId:Number(a),onClose:()=>d(!1),open:c,route:I}),e.jsx(Dt,{loadbalancerId:Number(a),onClose:()=>T(!1),open:R,route:I,ruleIndex:w})]})};export{ia as R,na as a,la as u};
