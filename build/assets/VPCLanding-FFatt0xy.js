import{u as V,j as e,di as y,kF as L,ba as T,V as R,W as c,r as x,E as O,an as _,C as A}from"./index-Eksrs3uK.js";import{L as B}from"./LandingHeader-JXAVBhqg.js";import{P as z}from"./PaginationFooter-NHWf7fW2.js";import{T as f,a as s,b as F,c as G}from"./TableRow-phXfWUGW.js";import{T as w}from"./TableSortCell-hcsagFzN.js";import{d as k,e as I}from"./constants-jI3mcPVd.js";import{u as H}from"./useOrder-rsUMHEuj.js";import{u as $}from"./usePagination-Sxr0Tlb7.js";import{u as M}from"./vpcs-qp5yIH1u.js";import{V as K,a as Q}from"./VPCEditDrawer-_TGfWlTt.js";import{R as U}from"./ResourcesSection-fJQ13r7x.js";import{I as q}from"./InlineMenuAction-d5mRENST.js";import{T as W}from"./TableHead-Si_pzkLK.js";import"./OrderBy-H-bWJCPy.js";import"./splitAt-pbTnq2Oi.js";import"./TypeToConfirmDialog-9yjZCCL0.js";import"./TypeToConfirm-koQ3u5up.js";import"./formik.esm-Kap5lsIh.js";import"./Drawer-A9yKjC3Z.js";import"./RegionSelect-_Z8IGlox.js";import"./Autocomplete-XvrzKoAo.js";import"./Flag-kVTQNGw3.js";import"./ListItem-joIHQeyv.js";import"./visuallyHidden-DVicuktI.js";const J={links:[{text:"Overview of Virtual Private Clouds (VPCs)",to:"https://www.linode.com/docs/products/networking/vpc/"},{text:"Getting Started with VPCs",to:"https://www.linode.com/docs/products/networking/vpc/get-started/"},{text:"Create a VPC",to:"https://www.linode.com/docs/products/networking/vpc/guides/create/"},{text:"Manage VPC Subnets",to:"https://www.linode.com/docs/products/networking/vpc/guides/subnets/"},{text:"Assign (and Remove) Services",to:"https://www.linode.com/docs/products/networking/vpc/guides/assign-services/"}],moreInfo:{text:"View additional VPC guides",to:"https://www.linode.com/docs/products/networking/vpc/guides/"},title:"Getting Started Guides"},N={description:"Enable cloud resources to privately communicate with each other, the internet, and other private networks.",subtitle:"Create a private and isolated network",title:k},j={action:"Click:link",category:"VPCs landing page empty"},X=()=>{const{push:r}=V();return e.jsx(U,{buttonProps:[{children:"Create VPC",onClick:()=>{y({action:"Click:button",category:j.category,label:"Create VPC"}),r("/vpcs/create")}}],gettingStartedGuidesData:J,headers:N,icon:L,linkAnalyticsEvent:j})},Y=({handleDeleteVPC:r,handleEditVPC:p,vpc:l})=>{var u;const{id:o,label:g,subnets:t}=l,{data:d}=T(),C=((u=d==null?void 0:d.find(i=>i.id===l.region))==null?void 0:u.label)??"",m=t.reduce((i,h)=>i+h.linodes.length,0),n=[{onClick:p,title:"Edit"},{onClick:r,title:"Delete"}];return e.jsxs(f,{ariaLabel:`VPC ${g}`,"data-qa-vpc-id":o,children:[e.jsx(s,{children:e.jsx(R,{to:`/vpcs/${o}`,children:g})}),e.jsx(c,{smDown:!0,children:e.jsx(s,{children:C})}),e.jsx(c,{mdDown:!0,children:e.jsx(s,{children:o})}),e.jsx(s,{children:t.length}),e.jsx(c,{mdDown:!0,children:e.jsx(s,{children:m})}),e.jsx(s,{actionCell:!0,children:n.map(i=>e.jsx(q,{actionText:i.title,onClick:i.onClick},i.title))})]},`vpc-row-${o}`)},b="vpcs",Z="vpcs/create",ke=()=>{const r=$(1,b),{handleOrderChange:p,order:l,orderBy:o}=H({order:"desc",orderBy:"label"},`${b}-order`),g={"+order":l,"+order_by":o},{data:t,error:d,isLoading:C}=M({page:r.page,page_size:r.pageSize},g),m=V(),[n,u]=x.useState(),[i,h]=x.useState(!1),[D,P]=x.useState(!1),E=a=>{u(a),h(!0)},S=a=>{u(a),P(!0)},v=()=>{m.push(Z)};return d?e.jsx(O,{errorText:_(d,"Error loading your VPCs.")[0].reason}):C?e.jsx(A,{}):(t==null?void 0:t.data.length)===0?e.jsx(X,{}):e.jsxs(e.Fragment,{children:[e.jsx(B,{createButtonText:"Create VPC",docsLink:"#",onButtonClick:v,title:k,betaFeedbackLink:I}),e.jsxs(F,{children:[e.jsx(W,{children:e.jsxs(f,{children:[e.jsx(w,{active:o==="label",direction:l,handleClick:p,label:"label",children:"Label"}),e.jsx(c,{smDown:!0,children:e.jsx(w,{active:o==="region",direction:l,handleClick:p,label:"region",children:"Region"})}),e.jsx(c,{mdDown:!0,children:e.jsx(w,{active:o==="id",direction:l,handleClick:p,label:"id",children:"VPC ID"})}),e.jsx(s,{children:"Subnets"}),e.jsx(c,{mdDown:!0,children:e.jsx(s,{children:"Linodes"})}),e.jsx(s,{})]})}),e.jsx(G,{children:t==null?void 0:t.data.map(a=>e.jsx(Y,{handleDeleteVPC:()=>S(a),handleEditVPC:()=>E(a),vpc:a},a.id))})]}),e.jsx(z,{count:(t==null?void 0:t.results)||0,eventCategory:"VPCs Table",handlePageChange:r.handlePageChange,handleSizeChange:r.handlePageSizeChange,page:r.page,pageSize:r.pageSize}),e.jsx(K,{id:n==null?void 0:n.id,label:n==null?void 0:n.label,onClose:()=>P(!1),open:D}),e.jsx(Q,{onClose:()=>h(!1),open:i,vpc:n})]})};export{ke as default};
