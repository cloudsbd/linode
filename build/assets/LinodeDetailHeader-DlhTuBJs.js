import{j as e,ad as J,T as R,e as K,h as X,O as Z,c as ee,dh as oe,q as te,f5 as re,bn as ie,r as s,u as se,C as ae,E as ne,fW as pe,an as le}from"./index-Eksrs3uK.js";import{L as me}from"./LandingHeader-JXAVBhqg.js";import{P as ce}from"./ProductInformationBanner-NRgFHJLr.js";import{L as de,D as ue,b as ge,c as De,R as be,M as fe,T as he}from"./DeleteLinodeDialog-APAsoTxA.js";import{P as Le}from"./utils-x4yn563A.js";import{u as xe}from"./useEditableLabelState-CfKjpK1t.js";import{s as Oe}from"./scrollErrorIntoView-6n4Cku1Y.js";import{E as we}from"./EnableBackupsDialog-5TgOa3Ei.js";import{M as je,N as ye}from"./Notifications-N8OobC9R.js";import"./LinodeActionMenu-bV6ckFLX.js";import"./immer.esm--MpJ8fpr.js";import"./groupBy-7jUcQ2cf.js";import"./PlansPanel-EH5ViSTx.js";import"./TabbedPanel-IicwaI6L.js";import"./TabList-4PWL4GSj.js";import"./PlanInformation-CouBULD4.js";import"./TextTooltip-SPU6hUyt.js";import"./ListItem-joIHQeyv.js";import"./TableRow-phXfWUGW.js";import"./TableRowEmpty-aXmC67-Z.js";import"./constants-KokzTiEs.js";import"./Currency-No8tnN7b.js";import"./Radio-HudVgwMW.js";import"./SelectionCard-IyO-o1CU.js";import"./dynamicPricing-n5eCZqTg.js";import"./linodes-orSDvVk7.js";import"./TableHead-Si_pzkLK.js";import"./arePropsEqual-WL8SjyyC.js";import"./getSelectedOptionFromGroupedOptions-4YyATpGV.js";import"./RenderGuard-iLW_eACV.js";import"./image.helpers-5SOq-oMg.js";import"./CommonStackScript.styles-tUmBO9fs.js";import"./index-C8Ov-8_e.js";import"./TableSortCell-hcsagFzN.js";import"./DebouncedSearchTextField-EUZwzd3g.js";import"./ResourcesSection-fJQ13r7x.js";import"./StackScript-_ub41xk0.js";import"./CopyTooltip-mIyzAQ7E.js";import"./index-Y5esPPk-.js";import"./DateTimeDisplay-bXC9mIcz.js";import"./ShowMoreExpansion-5I3PKpip.js";import"./Autocomplete-XvrzKoAo.js";import"./AccessPanel-rD0WgXZZ.js";import"./TableRowError-8gKmGX7P.js";import"./CreateSSHKeyDrawer-NnwCGTeL.js";import"./formik.esm-Kap5lsIh.js";import"./Code-HuerkG4_.js";import"./Drawer-A9yKjC3Z.js";import"./formikTrimUtil-tfsUpEEv.js";import"./getAPIErrorFor-OfQrArkQ.js";import"./usePagination-Sxr0Tlb7.js";import"./PaginationFooter-NHWf7fW2.js";import"./TableRowLoading-iP7zIRHG.js";import"./Skeleton-iwmO4Yae.js";import"./ActionMenu-4CPisA_2.js";import"./lishUtils-OjFanRCH.js";import"./linodes--kIa80QO.js";import"./disks-ZTjtBBb6.js";import"./RegionSelect-_Z8IGlox.js";import"./Flag-kVTQNGw3.js";import"./visuallyHidden-DVicuktI.js";import"./LinodeDisks-jJddYOGd.js";import"./AddNewLink-LwviGK8c.js";import"./OrderBy-H-bWJCPy.js";import"./splitAt-pbTnq2Oi.js";import"./Paginate-XLm_-WxT.js";import"./RadioGroup-zpRjMzXK.js";import"./formikErrorUtils-jhqfCjwU.js";import"./ImageSelect-L2KD_WsZ.js";import"./cond-gNmMu4CH.js";import"./LinodePermissionsError-htxzmi5m.js";import"./InlineMenuAction-d5mRENST.js";import"./backups-brLSog0e.js";import"./DisplayPrice-SNYRHKEX.js";import"./TypeToConfirm-koQ3u5up.js";import"./validatePassword-C5jRG3TY.js";import"./main-SCnYvbUf.js";import"./assocPath-nNkv7F8U.js";import"./firewalls-zJDfBkPC.js";import"./DeviceSelection-JvpNAIro.js";import"./FormControl-CNHz4Ctl.js";import"./TagsPanel-CYEBNrGy.js";import"./tags-kBUFHmv1.js";import"./PublicIpsUnassignedTooltip-A07mEsGp.js";import"./LinodeIPAddresses-BzUB11OC.js";import"./configs-3PoBJaCX.js";import"./vpcs-qp5yIH1u.js";import"./ipaddr-jlottelM.js";import"./remove-KHZAQMPH.js";import"./uniq-xa8_MmzW.js";import"./_contains-91K6xqrF.js";import"./_isFunction-X3ooR5X_.js";import"./over-27tc0FF7.js";import"./set-2Chj4B2I.js";import"./view-I-40yLKJ.js";import"./StatusIcon-RuV8PvAV.js";import"./recentEventForLinode-oZMi36YZ.js";import"./IPAddress-ZmG9OcMn.js";import"./ShowMore-4P5e_z46.js";import"./ipUtils-P4y3JNCT.js";import"./RegionIndicator-N3gnZFRh.js";import"./constants-jI3mcPVd.js";import"./TypeToConfirmDialog-9yjZCCL0.js";import"./MaintenanceBanner-5tjriDAX.js";import"./accountMaintenance-hC6-dGbb.js";import"./isPast-netbmlWS.js";import"./useDialog-Tn1TxMfw.js";const Ee=m=>{const{linodeStatus:t}=m;return t!=="stopped"?null:e.jsxs(J,{important:!0,variant:"warning",children:[e.jsx(R,{style:{paddingBottom:"8px"},variant:"h3",children:e.jsx("strong",{children:"An issue affecting the physical host this Linode resides on has been detected."})}),e.jsx(R,{variant:"body1",children:"We are working to resolve the issue as quickly as possible and will update you as soon as we have more information. Your Linode will return to its previous state once the issue is resolved. Thank you for your patience and understanding."})]})},Mt=()=>{var y,E;const m=K(),t=X(m.search),c=Z({path:"/linodes/:linodeId/:subpath?"}),i=Number(((y=c==null?void 0:c.params)==null?void 0:y.linodeId)??0),{data:o,error:p,isLoading:C}=ee(i),{mutateAsync:g}=oe(i),P=te(),{account:d}=re(),S=ie("VPCs",!!P.vpc,(d==null?void 0:d.capabilities)??[]),[I,T]=s.useState("Reboot"),[M,D]=s.useState(!1),[v,b]=s.useState(t.delete==="true"),[k,f]=s.useState(t.rebuild==="true"),[A,h]=s.useState(t.rescue==="true"),[z,L]=s.useState(t.resize==="true"),[B,x]=s.useState(t.migrate==="true"),[F,H]=s.useState(!1),[O,u]=s.useState({open:!1,tags:[]}),w=se(),a=()=>{(t.resize||t.rescue||t.rebuild||t.migrate||t.upgrade)&&w.replace({search:void 0}),D(!1),b(!1),L(!1),x(!1),h(!1),f(!1),H(!1)},N=()=>{u(r=>({...r,open:!1}))},q=r=>{u({open:!0,tags:r})},Q=r=>g({tags:r}).then(l=>{u(n=>({...n,tags:r}))}),{editableLabelError:U,resetEditableLabel:j,setEditableLabelError:V}=xe(),W=async r=>{try{await g({label:r})}catch(l){const _=le(l,"An error occurred while updating label","label").map($=>$.reason);throw new Error(_[0])}},G=r=>W(r).then(()=>{j()}).catch(l=>{const n=[l.message];return V(n[0]),Oe(),Promise.reject(n[0])}),Y={onOpenDeleteDialog:()=>{b(!0)},onOpenMigrateDialog:()=>{x(!0)},onOpenPowerDialog:r=>{D(!0),T(r)},onOpenRebuildDialog:()=>{f(!0)},onOpenRescueDialog:()=>{h(!0)},onOpenResizeDialog:()=>{L(!0)}};return C?e.jsx(ae,{}):p?e.jsx(ne,{errorText:(E=p==null?void 0:p[0])==null?void 0:E.reason}):o?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{linodeStatus:(o==null?void 0:o.status)??"running"}),e.jsx(je,{linodeId:i}),e.jsx(ye,{}),e.jsx(ce,{bannerLocation:"Linodes"}),e.jsx(me,{breadcrumbProps:{onEditHandlers:{editableTextTitle:(o==null?void 0:o.label)??"",errorText:U,onCancel:j,onEdit:G},pathname:`/linodes/${o==null?void 0:o.label}`},onDocsClick:()=>{pe("Getting Started")},docsLabel:"Docs",docsLink:"https://www.linode.com/docs/guides/platform/get-started/",title:"Create"}),e.jsx(de,{handlers:Y,id:i,linode:o,openTagDrawer:q}),e.jsx(Le,{action:I??"Reboot",isOpen:M,linodeId:i,manuallyUpdateConfigs:S,onClose:a}),e.jsx(ue,{linodeId:i,onClose:a,onSuccess:()=>w.replace("/linodes"),open:v}),e.jsx(ge,{linodeId:i,onClose:a,open:z}),e.jsx(De,{linodeId:i,onClose:a,open:k}),e.jsx(be,{linodeId:i,onClose:a,open:A}),e.jsx(fe,{linodeId:i,onClose:a,open:B}),e.jsx(he,{entityID:o==null?void 0:o.id,entityLabel:(o==null?void 0:o.label)??"",onClose:N,open:O.open,tags:O.tags,updateTags:Q}),e.jsx(we,{linodeId:i,onClose:a,open:F})]}):null};export{Mt as default};
