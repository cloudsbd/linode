var R=Object.defineProperty;var L=(e,n,t)=>n in e?R(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var f=(e,n,t)=>(L(e,typeof n!="symbol"?n+"":n,t),t);import{cG as c,bt as b,j as p,cH as S,f as E}from"./index-Eksrs3uK.js";import{S as O}from"./lke-download-Hz_dthl6.js";const U=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),m=e=>Array.isArray(e)&&e.every(n=>typeof n=="object"&&!(n instanceof Array)),$=e=>Array.isArray(e)&&e.every(n=>Array.isArray(n)),x=e=>Array.from(e.map(n=>Object.keys(n)).reduce((n,t)=>new Set([...n,...t]),[])),D=(e,n)=>{n=n||x(e);let t=n,r=n;m(n)&&(t=n.map(o=>o.label),r=n.map(o=>o.key));const s=e.map(o=>r.map(i=>I(i,o)));return[t,...s]},I=(e,n)=>{const t=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(r,s,o,i){const a=r[s];if(a==null)i.splice(1);else return a},n);return t===void 0?e in n?n[e]:"":t},B=e=>typeof e>"u"||e===null?"":e,k=(e,n=",",t='"')=>e.filter(r=>r).map(r=>r.map(s=>B(s)).map(s=>`${t}${s}${t}`).join(n)).join(`
`),V=(e,n,t,r)=>k(n?[n,...e]:e,t,r),T=(e,n,t,r)=>k(D(e,n),t,r),P=(e,n,t,r)=>n?`${n.join(t)}
${e}`:e.replace(/"/g,'""'),C=(e,n,t,r)=>{if(m(e))return T(e,n,t,r);if($(e))return V(e,n,t,r);if(typeof e=="string")return P(e,n,t);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},F=(e,n,t,r,s)=>{const o=C(e,t,r,s),i=U()?"application/csv":"text/csv",a=new Blob([n?"\uFEFF":"",o],{type:i}),l=`data:${i};charset=utf-8,${n?"\uFEFF":""}${o}`,u=window.URL||window.webkitURL;return typeof u.createObjectURL>"u"?l:u.createObjectURL(a)},w={data:c.oneOfType([c.string,c.array,c.func]).isRequired,headers:c.array,target:c.string,separator:c.string,filename:c.string,uFEFF:c.bool,onClick:c.func,asyncOnClick:c.bool,enclosingCharacter:c.string},j={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},H={target:"_blank"};class g extends b.Component{constructor(n){super(n),this.state={}}buildURI(){return F(...arguments)}componentDidMount(){const{data:n,headers:t,separator:r,enclosingCharacter:s,uFEFF:o,target:i,specs:a,replace:l}=this.props;this.state.page=window.open(this.buildURI(n,o,t,r,s),i,a,l)}getWindow(){return this.state.page}render(){return null}}f(g,"defaultProps",Object.assign(j,H)),f(g,"propTypes",w);var d;let _=(d=class extends b.Component{constructor(n){super(n),this.buildURI=this.buildURI.bind(this)}buildURI(){return F(...arguments)}handleLegacy(n,t=!1){if(window.navigator.msSaveOrOpenBlob){n.preventDefault();const{data:r,headers:s,separator:o,filename:i,enclosingCharacter:a,uFEFF:l}=this.props,u=t&&typeof r=="function"?r():r;let y=new Blob([l?"\uFEFF":"",C(u,s,o,a)]);return window.navigator.msSaveBlob(y,i),!1}}handleAsyncClick(n){const t=r=>{if(r===!1){n.preventDefault();return}this.handleLegacy(n,!0)};this.props.onClick(n,t)}handleSyncClick(n){if(this.props.onClick(n)===!1){n.preventDefault();return}this.handleLegacy(n)}handleClick(){return n=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(n):this.handleSyncClick(n);this.handleLegacy(n)}}render(){const{data:n,headers:t,separator:r,filename:s,uFEFF:o,children:i,onClick:a,asyncOnClick:l,enclosingCharacter:u,...y}=this.props,v=typeof window>"u"?"":this.buildURI(n,o,t,r,u);return p.jsx("a",{download:s,...y,ref:A=>this.link=A,target:"_self",href:v,onClick:this.handleClick(),children:i})}},f(d,"defaultProps",j),f(d,"propTypes",w),d);const N=_,z=({buttonType:e="secondary",className:n,csvRef:t,data:r,filename:s,headers:o,onClick:i,sx:a,text:l="Download CSV"})=>{const u=e==="styledLink"?p.jsxs(S,{onClick:i,sx:a,children:[p.jsx(O,{}),l]}):p.jsx(E,{buttonType:e,onClick:i,sx:a,children:l});return p.jsxs(p.Fragment,{children:[p.jsx(N,{"aria-hidden":!0,className:n,data:h(r),filename:s,headers:o,ref:t,tabIndex:-1}),u]})},h=e=>e===null?null:Array.isArray(e)?e.map(n=>h(n)):typeof e=="object"?Object.keys(e).reduce((n,t)=>(n[t]=h(e[t]),n),{}):typeof e=="boolean"||typeof e=="number"?e:`${e}`.charAt(0).match(/[-|+|=|*]/g)?`:${e}`:e;export{z as D};
