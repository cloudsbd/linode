import{p as D}from"./immer.esm--MpJ8fpr.js";import{r as e}from"./index-Eksrs3uK.js";const h=(s,c,d=[])=>{const[o,n]=e.useState(c),[i,u]=e.useState(void 0),[p,a]=e.useState(!1),[l,m]=e.useState(0);let r=!0;const f=()=>{s&&(a(!0),u(void 0),s().then(t=>{r&&(a(!1),m(Date.now()),n(t))}).catch(t=>{r&&(a(!1),u(t))}))};return e.useEffect(()=>(f(),()=>{r=!1}),d),{data:o,error:i,lastUpdated:l,loading:p,transformData:t=>{n(D(o,t))},update:f}};export{h as u};
